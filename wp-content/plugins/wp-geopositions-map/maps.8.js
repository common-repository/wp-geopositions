// Copyright 2005 Google
var mapControlPointerHack;

function eb(a,b,c){this.type=a;this.version=b;this.os=c}
;var v=new eb(0,0,null);var P=navigator.userAgent.toLowerCase();if(P.indexOf("opera")!=-1){v.type=4;if(P.indexOf("opera/7")!=-1||P.indexOf("opera 7")!=-1){v.version=7}else if(P.indexOf("opera/8")!=-1||P.indexOf("opera 8")!=-1){v.version=8}}else if(P.indexOf("msie")!=-1&&document.all){v.type=1;if(P.indexOf("msie 5")){v.version=5}}else if(P.indexOf("safari")!=-1){v.type=3}else if(P.indexOf("mozilla")!=-1){v.type=2}if(P.indexOf("x11;")!=-1){v.os=1}else if(P.indexOf("macintosh")!=-1){v.os=2}
// Copyright 2005 Google
var I=Number.MAX_VALUE;function ea(a,b,c){var d=window.setTimeout(function(){b.apply(a)}
,c);return d}
function kc(a,b,c){var d=window.setInterval(function(){b.apply(a)}
,c);return d}
function $(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}
function rc(a){return $(a).replace(/\"/g,"&quot;")}
Array.prototype.clear=function(){while(this.length>0)this.pop()}
;document.getElementsByClassName=function(a){var b=document.all;if(!b)b=document.getElementsByTagName("*");var c=[];for(var d=0;d<b.length;d++){if(b[d].className==a){c[c.length]=b[d]}}return c}
;function C(a,b){try{a.style.cursor=b}catch(c){if(b=="pointer"){C(a,"hand")}}}
function A(a){if(v.type==1){window.event.cancelBubble=true;window.event.returnValue=false}else{a.cancelBubble=true;a.preventDefault();a.stopPropagation()}}
function gc(a,b){var c=window.document.createElement("a");c.href="javascript:void(0)";c.onclick=b;c.appendChild(window.document.createTextNode(a));return c}
if(!Array.prototype.push){Array.prototype.push=function(a){this[this.length]=a}
}function Ya(a){return document.getElementById(a)}
function n(a){return Math.round(a)+"px"}
function Y(a,b){if(a.className){a.className+=" "+b}else{a.className=b}}
function ua(a){var b={"x":0,"y":0};while(a){b.x+=a.offsetLeft;b.y+=a.offsetTop;a=a.offsetParent}return b}
function pc(a,b){var c={"x":0,"y":0};while(a&&a!=b){c.x+=a.offsetLeft;c.y+=a.offsetTop;a=a.offsetParent}return c}
function _nullFunction(){}

// Copyright 2005 Google
function W(){}
W.create=function(a,b,c,d,e,f,g,h,i){var l;if(!i){l=document.createElement("img");if(a)l.src=a}else{l=i(a,g)}if(b&&c){l.style.width=n(b);l.style.height=n(c);l.width=b;l.height=c}if(e||(d||(e==0||d==0))){l.style.position="absolute";l.style.left=n(d);l.style.top=n(e)}if(f||f==0){l.style.zIndex=f}if(v.type==1){l.unselectable="on";l.onselectstart=fa}else{l.style.MozUserSelect="none"}l.style.border="0";l.oncontextmenu=fa;if(h){Y(l,h)}return l}
;function t(){}
t.create=function(a,b,c,d,e,f,g,h){return W.create(a,b,c,d,e,f,g,h,t.createElement)}
;t.createElement=function(a,b){if(typeof arguments.callee.hasFilters=="undefined"){var c=document.createElement("div");arguments.callee.hasFilters=typeof c.style.filter!="undefined"}var d;if(arguments.callee.hasFilters){d=document.createElement("div");d.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+a+(b?'",sizingMethod=crop)':'")')}else{d=document.createElement("img");d.src=a}return d}

// Copyright 2005 Google
function k(){}
k.addListener=function(a,b,c){var d=k.getPropertyName(b);if(a[d]){a[d].push(c)}else{a[d]=[c]}return new gb(a,d,c)}
;k.removeListener=function(a){var b=a.instance[a.propertyName];for(var c=0;c<b.length;c++){if(b[c]==a.listenerFn){b.splice(c,1);return}}}
;k.clearListeners=function(a,b){var c=k.getPropertyName(b);a[c]=null}
;k.trigger=function(a,b){var c=k.getPropertyName(b);var d=a[c];if(d&&d.length>0){var e=[];for(var f=2;f<arguments.length;f++){e.push(arguments[f])}for(var f=0;f<d.length;f++){var g=d[f];if(g){try{g.apply(this,e)}catch(h){u.dump(h)}}}}}
;function gb(a,b,c){this.instance=a;this.propertyName=b;this.listenerFn=c}
k.getPropertyName=function(a){return"_e__"+a}
;k.addBuiltInListener=function(a,b,c){if(v.type==3&&b=="dblclick"){a["on"+b]=c;return}if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent("on"+b,c)}else{a["on"+b]=c}}
;k.removeBuiltInListener=function(a,b,c){if(a.removeEventListener){a.removeEventListener(b,c,false)}else if(a.detachEvent){a.detachEvent("on"+b,c)}else{a["on"+b]=null}}
;k.bindDom=function(a,b,c,d){var e=k.createAdapter(c,d);return k.addBuiltInListener(a,b,e)}
;k.bind=function(a,b,c,d){return k.addListener(a,b,function(){d.apply(c,arguments)}
)}
;k.createAdapter=function(a,b){return function(c){if(!c){c=window.event}if(c&&!c.target){c.target=c.srcElement}b.call(a,c)}
}

// Copyright 2005 Google
function ba(a){this.size=0;if(a){for(var b=a.length-1;b>=0;b--)this.add(a[b])}}
ba.prototype.add=function(a){if(!this.contains(a)){this[":"+a]=1;this.size++}}
;ba.prototype.remove=function(a){if(this.contains(a)){delete this[":"+a];this.size--}}
;ba.prototype.contains=function(a){return this[":"+a]==1}
;function fa(){return false}
function fc(a){if(!a){if(Error){throw"assertion failed: "+Error().stack;}else{throw"assertion failed";}}}

// Copyright 2005 Google
var s="http://www.google.com/mapfiles/";var qa=["q","ll","sll","spn","sspn","vp","z","t","output","deb","f","file","saddr","daddr","near","stat_m"];function B(){this.args=new Object();this.reset()}
B.prototype.setValue=function(a,b){this.args[a]=b}
;B.prototype.setQueryValue=function(a,b){var c=b.replace(/^\s*|\s*$/g,"");this.setValue(a,c)}
;B.prototype.setAllMapValues=function(a){this.setValue("ll",this.getLatLngArg(a.getCenterLatLng()));this.setValue("spn",this.getSpanArg(a.getSpanLatLng()));this.setValue("z",a.zoomLevel);this.setValue("t",a.spec.getURLArg())}
;B.prototype.getLatLngArg=function(a){return ta(a.y)+","+ta(a.x)}
;B.prototype.getSpanArg=function(a){return ta(a.height)+","+ta(a.width)}
;B.prototype.reset=function(){for(var a=0;a<qa.length;a++){this.args[qa[a]]=null}}
;B.prototype.getURL=function(a){var b=new Array();for(var c=0;c<qa.length;c++){var d=qa[c];if(this.args[d]){b.push(d+"="+this.beautify(encodeURIComponent(this.args[d])))}}if(window._sf&&window._sf.length>0){b.push(window._sf)}var e="/maps";if(b.length>0)e+="?"+b.join("&");if(a)return"http://maps.google.com"+e;return e}
;B.prototype.beautify=function(a){return a.replace(/%20/g,"+").replace(/%2C/gi,",")}
;B.getFileURL=function(a){var b=new B();b.setValue("file",a);return b.getURL()}
;B.getPrintImageUrl=function(a){var b=a.map.getCenterLatLng();var c=a.map;var d={"x":c.viewSize.width,"y":c.viewSize.height};var e={"x":c.centerBitmap.x-d.x/2,"y":c.centerBitmap.y-d.y/2};var f=c.zoomLevel;while(d.x*d.y>480000){var g=a.map.spec.zoomBitmapCoord(f+1,f,e);var h=a.map.spec.zoomBitmapCoord(f+1,f,d);f=f+1;e=g;d=h}var i="c="+Math.floor(b.x*1000000);i+=","+Math.floor(b.y*1000000);i+="&r="+d.x;i+=","+d.y;i+="&z="+f;for(var l=0;l<a.map.locations.length;++l){var m=a.map.locations[l];var o=m.point;var r=this.printIconId(m.id);i+=this.locationAsUrlParam(o.x,o.y,r)}i+=this.directionsAsUrlParam(a,f,e);var w;if(window.location.host.match(/:(.*)/)&&RegExp.$1!="80"){w=window.location.host.replace(/:.*/,":9589")}else{w=window.location.host.replace(/:.*/,"")}var E="http://"+w+"/mapprint?"+i;u.write(E);return E}
;B.printIconId=function(a){var b={"A":17,"B":18,"C":19,"D":20,"E":21,"F":22,"G":23,"H":24,"I":25,"J":26};var c=b[a]||16;return c}
;B.locationAsUrlParam=function(a,b,c){var d="";d+="&l="+Math.floor(a*1000000);d+=","+Math.floor(b*1000000);d+=","+c;return d}
;B.directionsAsUrlParam=function(a,b,c){var d=a.map;if(!d.directions){return""}var e=d.directions.polyline;var f=d.getBoundsLatLng();var g;var h=d.getPolylineTolerance(e);do{var i=e.getVectors(f,h);var l=[];var m=new z();d.getBitmapVectors(i,l,m,b);g=d.getEncodedImageSource(l,c.x,c.y);++h}while(g.length>900);var o="&p="+g;var r=e.getPoint(0);var w=(e.points.length>>1)-1;var E=e.getPoint(w);o+=this.locationAsUrlParam(r.x,r.y,31);o+=this.locationAsUrlParam(E.x,E.y,32);return o}
;B.getTileBaseUrl=function(a,b,c){var d=a||(b||"");if(d.indexOf("?")==-1){d+="?"}else{d+="&"}if(c){d+="v="+encodeURIComponent(c)+"&"}return d}
;function ta(a){if(a.toFixed){return a.toFixed(6).toString()}else{return a.toString()}}

// Copyright 2005 Google
var R=new Object();function O(a,b){this.id=a;this.ticketClass=b}
O.create=function(a){if(!a)a="_dtc";if(!R[a])R[a]=1;else R[a]++;return new O(R[a],a)}
;O.invalidateAll=function(){for(var a in R){try{R[a]++}catch(b){}}}
;O.invalidate=function(a){R[a]++}
;O.prototype.isValid=function(){return R[this.ticketClass]==this.id}

// Copyright 2005 Google
function ra(){}
ra.create=function(){if(typeof ActiveXObject!="undefined"){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest()}return null}
;function wa(){}
wa.create=function(a,b){var c=ra.create();if(c){return new Va(c)}else if(b){var d="mapsxmlhttpiframe"+(a||"");return new Ia(d)}else{return null}}
;function Va(a){this.xmlhttp=a}
Va.prototype.continueWith=function(a,b){var c=this.xmlhttp;c.open("GET",a,true);c.onreadystatechange=function(){if(c.readyState==4){b(c.responseText);c.onreadystatechange=_nullFunction}}
;c.send(null)}
;function Ia(a){this.frameid=a}
Ia.prototype.continueWith=function(a,b){var c=window.document.getElementById(this.frameid);if(!c){u.write("IFRAME create "+this.frameid);c=Xa(this.frameid)}else{u.write("IFRAME found "+this.frameid)}k.addBuiltInListener(c,"load",function(){u.write("IFRAME loaded "+d);var f=Za(c);u.write(f);b(f.jsfile)}
);var d=a+"&wrap=js";u.write("IFRAME load "+d);if(v.type==4&&v.version==7){c.src=d}else{var e=Za(c);e.location.replace(d)}u.write("IFRAME loading "+d)}
;function H(a){this.stylesheet=a}
H.cache_=new Object();H.create=function(a){return new H(a)}
;H.getCached=function(a){return H.cache_[a]}
;H.cache=function(a,b){H.cache_[a]=b}
;H.prototype.transformToHTML=function(a,b){if(typeof a.transformNode!="undefined"){u.write("XSLT transformNode");b.innerHTML=a.transformNode(this.stylesheet)}else if(!hc&&(typeof XSLTProcessor!="undefined"&&typeof XSLTProcessor.prototype.importStylesheet!="undefined")){u.write("XSLT XSLTProcessor");var c=new XSLTProcessor();c.importStylesheet(this.stylesheet);var d=c.transformToFragment(a,window.document);b.innerHTML="";b.appendChild(d)}else{u.write("XSLT xsltProcess");var e="";b.innerHTML=e}}
;H.asynchronousTransform=function(a,b,c,d,e){if(v.type==3&&H.scriptedTransform){var f=function(){try{H.scriptedTransform(a,b,c)}catch(m){u.dump(m)}if(d){d()}}
;if(!document.getElementById("nxsl")){var g=Xa("nxsl");g.onload=f;g.src="/maps?file=sf"}else{window.setTimeout(f,1)}return}var h=H.getCached(c);if(h){window.setTimeout(function(){h.transformToHTML(a,b);if(d){d()}}
,1)}else{var i=O.create(e);var l=wa.create(e,true);l.continueWith(c,function(m){if(i.isValid()){var o=m.replace(/\{\{[#\/!].*?\}\}/g,"").replace(/^[^<]*/,"");var r=Fa(o);var w=H.create(r);w.transformToHTML(a,b);H.cache(c,w);if(d){d()}}}
)}}
;function qc(a){while(a.hasChildNodes()){a.removeChild(a.lastChild)}}
function Fa(a){try{if(typeof ActiveXObject!="undefined"&&typeof GetObject!="undefined"){u.write("XML loadXML");var b=new ActiveXObject("Microsoft.XMLDOM");b.loadXML(a);return b}else if(typeof DOMParser!="undefined"){u.write("XML DOMParser");return(new DOMParser()).parseFromString(a,"text/xml")}else{u.write("XML xmlParse");return cb(a)}}catch(c){u.write(c.toString());u.incompatible("xmlparse")}try{u.write("XML xmlParse catch");return cb(a)}catch(c){u.write(c.toString());u.incompatible("xmlparse");return document.createElement("div")}}
function $a(a){var b="";if(a.nodeName=="#text"){b+=$(a.nodeValue)}else{b+="<"+a.nodeName;if(a.hasAttributes()){for(var c=0;c<a.attributes.length;++c){b+=" "+a.attributes[c].nodeName+'="'+rc(a.attributes[c].nodeValue)+'"'}}if(a.childNodes.length==0){b+="/>"}else{b+=">";for(var c=0;c<a.childNodes.length;++c){b+=$a(a.childNodes[c])}b+="</"+a.nodeName+">"}}return b}
function ic(a){var b="";if(a.nodeName=="#text"){b+=$(a.nodeValue)}else{for(var c=0;c<a.childNodes.length;++c){b+=$a(a.childNodes[c])}}return b}
function Xa(a){var b=window.document.createElement("iframe");b.style.width=n(100);b.style.height=n(50);b.style.position="absolute";b.style.top=n(-110);b.style.left=n(-110);b.id=a;b.name=a;window.document.body.appendChild(b);return b}
function Za(a){if(a.contentWindow){u.write("IFRAME window: contentWindow");return a.contentWindow}else{u.write("IFRAME window: "+a.id);return window[a.id]}}
function aa(a,b){if(a){return a.getElementsByTagName(b)[0]}else{return null}}
function va(a){if(!a){return""}var b="";if(a.nodeType==3||(a.nodeType==4||a.nodeType==2)){b+=a.nodeValue}else if(a.nodeType==1||(a.nodeType==9||a.nodeType==11)){for(var c=0;c<a.childNodes.length;++c){b+=arguments.callee(a.childNodes[c])}}return b}
function bb(a,b){var c=(a.className||"").split(/\s+/);var d=false;for(var e=0;e<c.length;++e){if(c[e]==b){d=true;break}}if(!d){c.push(b)}a.className=c.join(" ")}
function db(a,b){var c=(a.className||"").split(/\s+/);var d=[];for(var e=0;e<c.length;++e){if(c[e]!=b){d.push(c[e])}}a.className=d.join(" ")}
;function Ga(a){if(!a){return null}else if(a.nodeType==1){var b=sc(a);if(b){return Ga(b)}else{var c=[];for(var d=0;d<a.childNodes.length;++d){var e=a.childNodes[d];var f=Ga(e);if(f){c.push(f)}if(!c[e.nodeName]){c[e.nodeName]=f}else if(typeof c[e.nodeName]!="array"){var g=c[e.nodeName];c[e.nodeName]=[g,f]}else{c[e.nodeName].push(f)}}for(var d=0;d<a.attributes.length;++d){var h=a.attributes[d];c[h.nodeName]=h.nodeValue}return c}}else if(a.nodeType==3){return""+a.nodeValue}else{return null}}
function sc(a){if(a.attributes&&a.attributes.length>0){return null}var b=null;for(var c=0;c<a.childNodes.length;++c){var d=a.childNodes[c];if(d.nodeType==1){return null}if(d.nodeType==3&&!d.nodeValue.match(/^\s*$/)){if(!b){b=d}else{return null}}}return b}

// Copyright 2005 Google
function p(a,b){this.x=a;this.y=b}
p.prototype.toString=function(){return"("+this.x+", "+this.y+")"}
;p.prototype.equals=function(a){if(!a)return false;return this.x==a.x&&this.y==a.y}
;p.prototype.distanceFrom=function(a){var b=this.x-a.x;var c=this.y-a.y;return Math.sqrt(b*b+c*c)}
;p.prototype.approxEquals=function(a){if(!a)return false;return sa(this.x,a.x)&&sa(this.y,a.y)}
;function G(a,b){this.width=a;this.height=b}
G.prototype.toString=function(){return"("+this.width+", "+this.height+")"}
;G.prototype.equals=function(a){if(!a)return false;return this.width==a.width&&this.height==a.height}
;G.prototype.approxEquals=function(a){if(!a)return false;return sa(this.width,a.width)&&sa(this.height,a.height)}
;function sa(a,b){return Math.round(a*1000000)==Math.round(b*1000000)}
function z(a,b,c,d){this.minX=a;this.minY=b;this.maxX=c;this.maxY=d}
z.prototype.toString=function(){return"Bounds("+this.minX+","+this.minY+","+this.maxX+","+this.maxY+")"}
;z.prototype.intersectsLatLng=function(a){var b=this.minX>this.maxX?this.minX-360:this.minX;var c=a.minX>a.maxX?a.minX-360:a.minX;if(c>this.maxX||(a.minY>this.maxY||(a.maxX<b||a.maxY<this.minY))){return false}return true}
;z.prototype.containsSegment=function(a,b){if(this.minX>a.x&&this.minX>b.x)return false;if(this.maxX<a.x&&this.maxX<b.x)return false;if(this.minY>a.y&&this.minY>b.y)return false;if(this.maxY<a.y&&this.maxY<b.y)return false;return true}
;z.prototype.containsBounds=function(a){return this.minX<a.minX&&(this.maxX>a.maxX&&(this.minY<a.minY&&this.maxY>a.maxY))}
;z.prototype.extend=function(a){this.minX=Math.min(this.minX,a.x);this.maxX=Math.max(this.maxX,a.x);this.minY=Math.min(this.minY,a.y);this.maxY=Math.max(this.maxY,a.y)}
;z.intersection=function(a,b){return new z(Math.max(a.minX,b.minX),Math.max(a.minY,b.minY),Math.min(a.maxX,b.maxX),Math.min(a.maxY,b.maxY))}
;function ca(a){this.ticks=a;this.tick=0}
ca.prototype.reset=function(){this.tick=0}
;ca.prototype.next=function(){this.tick++;var a=Math.PI*(this.tick/this.ticks-0.5);return(Math.sin(a)+1)/2}
;ca.prototype.more=function(){return this.tick<this.ticks}
;var Wa=Math.PI/180;var bc=2*Math.PI
// Copyright 2005 Google
function fb(a,b){if(!b)b=new Array();while(a>=32){b.push(String.fromCharCode((32|a&31)+63));a>>=5}b.push(String.fromCharCode(a+63));return b}
function V(a,b){return fb(a<0?~(a<<1):a<<1,b)}
function X(a,b,c,d){this.numLevels=c;this.zoomFactor=d;this.decodePolyline(a);this.decodeLevels(b);this.minTolerance=1.0E-5}
X.prototype.decodePolyline=function(a){F.start("Polyline","decodePolyline");var b=a.length;var c=0;var d=new Array();var e=0;var f=0;while(c<b){var g;var h=0;var i=0;do{g=a.charCodeAt(c++)-63;i|=(g&31)<<h;h+=5}while(g>=32);var l=i&1?~(i>>1):i>>1;e+=l;d.push(e);h=0;i=0;do{g=a.charCodeAt(c++)-63;i|=(g&31)<<h;h+=5}while(g>=32);var m=i&1?~(i>>1):i>>1;f+=m;d.push(f)}this.points=d;this.numPoints=this.points.length>>1;F.end("Polyline","decodePolyline")}
;X.prototype.decodeLevels=function(a){F.start("Polyline","decodeLevels");var b=new Array(this.numLevels);for(var c=0;c<this.numLevels;++c)b[c]=new Array();var d=0;for(var e=0;e<this.numPoints;++e){var f=a.charCodeAt(d++)-63;while(f>=0){var g=b[f--];while(g.length<e){g.push(e)}}}for(var f=0;f<this.numLevels;++f){var g=b[f];for(var e=g.length;e<this.numPoints;++e){g.push(this.numPoints)}}this.nextPointIndexAtLevel=b;F.end("Polyline","decodeLevels")}
;X.prototype.getPoint=function(a,b){if(b==null)b=new p();a<<=1;b.y=this.points[a]*1.0E-5;b.x=this.points[a+1]*1.0E-5;return b}
;X.prototype.getVectors=function(a,b,c){F.start("Polyline","getVectors");if(c==null)c=new Array();this.getVectorsHelper(a,0,this.numPoints-1,this.numLevels-1,b,c);F.end("Polyline","getVectors");return c}
;X.prototype.getVectorsHelper=function(a,b,c,d,e,f){var g=1/xa[0];for(var h=d;h>0;--h){g*=this.zoomFactor}var i=new z();i.minX=Math.floor((a.minX-g)*100000);i.minY=Math.floor((a.minY-g)*100000);i.maxX=Math.ceil((a.maxX+g)*100000);i.maxY=Math.ceil((a.maxY+g)*100000);var l=b;var m;var o=new p();o.y=this.points[l<<1];o.x=this.points[(l<<1)+1];var r=new p();while((m=this.nextPointIndexAtLevel[d][l])<=c){r.y=this.points[m<<1];r.x=this.points[(m<<1)+1];if(i.containsSegment(o,r)){if(d>e){this.getVectorsHelper(a,l,m,d-1,e,f)}else{f.push(o.y*1.0E-5);f.push(o.x*1.0E-5);f.push(r.y*1.0E-5);f.push(r.x*1.0E-5)}}var w=o;o=r;r=w;l=m}}

// Copyright 2005 Google
function j(a,b,c,d,e,f,g,h){fc(a);if(!b||!b.length){if(window.createMapSpecs){b=window.createMapSpecs()}else{b=[new L()]}}this.container=a;this.disableDragging=f;this.mapTypes=b;this.zoomLevel=0;this.topLeftTile=null;this.currentPanOffset=new G(0,0);this.centerBitmap=new p(0,0);this.centerScreen=new p(0.5,0.5);this.lastCenterScreen=new p(0.5,0.5);this.tilePaddingOffset=new G(0,0);this.tableSize=new G(0,0);this.locations=[];this.panDistance=new G(0,0);this.panKeys=new ba();this.stateMonitor=null;this.container.style.overflow="hidden";if(this.container.style.position!="absolute"){this.container.style.position="relative"}if(!c||!d){c=this.container.offsetWidth;d=this.container.offsetHeight}this.viewSize=new G(c,d);k.bindDom(window,"blur",this,this.onWindowBlur);this.div=this.createMapDiv();this.container.appendChild(this.div);if(!e){this.infoWindow=new y(this.div,5000,2000);k.bind(this.infoWindow,"closeclick",this,this.onInfoCloseClick)}this.directionsDiv=document.createElement("div");this.directionsDiv.directionsBounds=new z(-I,-I,I,I);this.div.appendChild(this.directionsDiv);this.dragObject=new Q(this.div,0,0);k.bind(this.dragObject,"drag",this,this.onDrag);k.bind(this.dragObject,"dragend",this,this.onDragEnd);k.bind(this.dragObject,"dragstart",this,this.onDragStart);k.bind(this.dragObject,"click",this,this.onClick);k.bind(this.dragObject,"mousedown",this,this.onMouseDown);k.bindDom(this.div,"dblclick",this,this.onDoubleClick);if(f){this.dragObject.disable()}if(!g){this.showCopyright(!h)}this.setSpecification(this.mapTypes[0]);this.initializeMap();this.useRawVml=false;k.bind(this,"moveend",this,this.checkLongitudeWrapping);k.bind(this,"moveend",this,this.resetCenterScreen);k.bind(this,"moveend",this,this.updateCopyright)}
j.prototype.isLoaded=function(){return this.topLeftTile!=null}
;j.prototype.createMapDiv=function(){var a=document.createElement("div");a.style.position="absolute";a.style.top=n(0);a.style.left=n(0);a.style.zIndex=0;return a}
;j.prototype.loadTileImages=function(){while(this.tileImages.length>this.tableSize.width){var a=this.tileImages.pop();for(var b=0;b<a.length;b++){this.div.removeChild(a[b])}}for(var b=this.tileImages.length;b<this.tableSize.width;b++){this.tileImages.push([])}for(var b=0;b<this.tileImages.length;b++){while(this.tileImages[b].length>this.tableSize.height){var c=this.tileImages[b].pop();this.div.removeChild(c)}for(var d=this.tileImages[b].length;d<this.tableSize.height;d++){var c=W.create(null,this.spec.tileSize,this.spec.tileSize,null,null,0,null,null);c.style.position="absolute";this.tileImages[b].push(c);this.div.appendChild(c);this.configureImage(c,b,d)}}}
;j.prototype.deleteTiles=function(){if(this.tileImages){for(var a=0;a<this.tileImages.length;a++){if(this.tileImages[a]){for(var b=0;b<this.tileImages[a].length;b++){this.div.removeChild(this.tileImages[a][b])}}}}this.tileImages=null}
;j.prototype.initializeMap=function(){this.deleteTiles();this.tileImages=[];this.calculateTileMeasurements();this.loadTileImages()}
;j.prototype.getSpanLatLng=function(a){if(!a)a=new G(0,0);var b=this.spec.getLatLng(this.centerBitmap.x-this.viewSize.width*this.centerScreen.x,this.centerBitmap.y-this.viewSize.height*this.centerScreen.y,this.zoomLevel);var c=this.spec.getLatLng(this.centerBitmap.x+this.viewSize.width*(1-this.centerScreen.x),this.centerBitmap.y+this.viewSize.height*(1-this.centerScreen.y),this.zoomLevel);a.width=Math.abs(c.x-b.x);a.height=Math.abs(c.y-b.y);return a}
;j.prototype.getCenterLatLng=function(a){if(!a)a=new p(0,0);if(this.centerLatLng){a.x=this.centerLatLng.x;a.y=this.centerLatLng.y}else{var b=null;if(this.lastLatLng&&this.centerScreen.equals(this.lastCenterScreen)){b=this.spec.getBitmapCoordinate(this.lastLatLng.y,this.lastLatLng.x,this.zoomLevel)}if(b&&b.equals(this.centerBitmap)){a.x=this.lastLatLng.x;a.y=this.lastLatLng.y}else{var c=this.spec.getLatLng(this.centerBitmap.x,this.centerBitmap.y,this.zoomLevel);a.x=c.x-Math.floor((c.x+180)/360)*360;a.y=c.y}}return a}
;j.prototype.getBoundsBitmap=function(a){if(!a){a=new z(0,0,0,0)}var b=this.centerBitmap.x;var c=this.centerBitmap.y;var d=this.viewSize.width;var e=this.viewSize.height;var f=this.centerScreen.x;var g=this.centerScreen.y;a.minX=b-d*f;a.minY=c-e*g;a.maxX=b+d*(1-f);a.maxY=c+e*(1-g);return a}
;j.prototype.getBoundsLatLng=function(a){a=this.getBoundsBitmap(a);var b=this.spec.getLatLng(a.minX,a.minY,this.zoomLevel);var c=this.spec.getLatLng(a.maxX,a.maxY,this.zoomLevel);a.minX=b.x;a.minY=c.y;a.maxX=c.x;a.maxY=b.y;return a}
;j.prototype.getDivCoordinate=function(a,b,c){if(!c)c=new p(0,0);var d=a-this.topLeftTile.x*this.spec.tileSize-this.tilePaddingOffset.width+this.currentPanOffset.width*this.spec.tileSize;var e=b-this.topLeftTile.y*this.spec.tileSize-this.tilePaddingOffset.height+this.currentPanOffset.height*this.spec.tileSize;c.x=d;c.y=e;return c}
;j.prototype.calculateTileMeasurements=function(){var a=Math.ceil(this.viewSize.width/this.spec.tileSize)+2;var b=Math.ceil(this.viewSize.height/this.spec.tileSize)+2;this.tableSize.width=a;this.tableSize.height=b;var c=Math.floor((this.tableSize.width*this.spec.tileSize-this.viewSize.width)/2);var d=Math.floor((this.tableSize.height*this.spec.tileSize-this.viewSize.height)/2);this.tilePaddingOffset.width=c;this.tilePaddingOffset.height=d}
;j.prototype.configureImage=function(a,b,c){var d=(this.currentPanOffset.width+b)*this.spec.tileSize;var e=(this.currentPanOffset.height+c)*this.spec.tileSize;var f=-this.tilePaddingOffset.width+d;var g=-this.tilePaddingOffset.height+e;if(a.tileLeft!=f||a.tileTop!=g){a.style.left=n(f);a.style.top=n(g);a.tileLeft=f;a.tileTop=g}if(!this.isLoaded()){a.src=this.spec.emptyTileUrl}else{var h=this.spec.getTileURL(this.topLeftTile.x+b,this.topLeftTile.y+c,this.zoomLevel);if(a.src!=h){a.src=this.spec.emptyTileUrl;a.src=h}}}
;j.prototype.onDrag=function(){if(!this.isLoaded()){return}this.onMove();this.rotateTiles()}
;var Yb=new G(0,0);j.prototype.onMove=function(){this.centerLatLng=null;var a=this.getCurrentOffset(Yb);var b=this.topLeftTile.x*this.spec.tileSize+Math.floor(this.viewSize.width*this.centerScreen.x)+this.tilePaddingOffset.width-a.width;var c=this.topLeftTile.y*this.spec.tileSize+Math.floor(this.viewSize.height*this.centerScreen.y)+this.tilePaddingOffset.height-a.height;this.centerBitmap.x=b;this.centerBitmap.y=c;this.drawDirections(this.directions,this.directionsDiv);k.trigger(this,"move")}
;var Zb=new G(0,0);j.prototype.rotateTiles=function(){var a=this.getCurrentOffset(Zb);if(Math.abs(this.dragObject.left)>10000000||Math.abs(this.dragObject.top)>10000000){this.cancelPan();this.centerAtBitmap(this.centerBitmap);return}while(a.width<-this.tilePaddingOffset.width/2){this.rotateRight();this.getCurrentOffset(a)}while(a.width>this.tilePaddingOffset.width/2){this.rotateLeft();this.getCurrentOffset(a)}while(a.height<-this.tilePaddingOffset.height/2){this.rotateDown();this.getCurrentOffset(a)}while(a.height>this.tilePaddingOffset.height/2){this.rotateUp();this.getCurrentOffset(a)}}
;j.prototype.rotateLeft=function(){this.currentPanOffset.width--;this.topLeftTile.x--;var a=this.tileImages.pop();if(a){this.tileImages.unshift(a);for(var b=0;b<a.length;b++){this.configureImage(a[b],0,b)}}}
;j.prototype.rotateRight=function(){this.currentPanOffset.width++;this.topLeftTile.x++;var a=this.tileImages.shift();this.tileImages.push(a);var b=this.tileImages.length-1;for(var c=0;c<a.length;c++){this.configureImage(a[c],b,c)}}
;j.prototype.rotateUp=function(){this.currentPanOffset.height--;this.topLeftTile.y--;for(var a=0;a<this.tileImages.length;a++){var b=this.tileImages[a].pop();this.tileImages[a].unshift(b);this.configureImage(b,a,0)}}
;j.prototype.rotateDown=function(){this.currentPanOffset.height++;this.topLeftTile.y++;var a=this.tileImages[0].length-1;for(var b=0;b<this.tileImages.length;b++){var c=this.tileImages[b].shift();this.tileImages[b].push(c);this.configureImage(c,b,a)}}
;j.prototype.onDragEnd=function(){k.trigger(this,"moveend")}
;j.prototype.onDragStart=function(){k.trigger(this,"movestart")}
;j.prototype.onDoubleClick=function(a){if(this.disableDragging){return}var b=this.getRelativeClickPoint(a,this.container);var c=Math.floor(this.viewSize.width/2)-b.x;var d=Math.floor(this.viewSize.height/2)-b.y;this.pan(c,d)}
;j.prototype.onClick=function(){k.trigger(this,"click");this.closeInfoWindow()}
;j.prototype.onMouseDown=function(){k.trigger(this,"mousedown")}
;j.prototype.getRelativeClickPoint=function(a,b,c){if(!c){c=new p()}if(typeof a.offsetX!="undefined"){var d=a.target||a.srcElement;var e=pc(d,b);c.x=a.offsetX+e.x;c.y=a.offsetY+e.y}else if(typeof a.pageX!="undefined"){var f=ua(b);c.x=a.pageX-f.x;c.y=a.pageY-f.y}else{u.incompatible("dblclick")}return c}
;j.prototype.reconfigureAllImages=function(){if(this.tileImages.length==0){return}var a=[];for(var b=0;b<this.tileImages.length;b++){for(var c=0;c<this.tileImages[b].length;c++){f=this.tileImages[b][c];f.coordX=b;f.coordY=c;var d=Math.min(b,this.tileImages.length-b-1);var e=Math.min(c,this.tileImages[b].length-c-1);if(d==0||e==0){f.priority=0}else{f.priority=d+e}a.push(f)}}a.sort(function(g,h){return h.priority-g.priority}
);for(var b=0;b<a.length;b++){var f=a[b];if(v.type==1||v.type==4&&v.version==7){this.div.removeChild(f);this.configureImage(f,f.coordX,f.coordY);this.div.appendChild(f)}else{this.configureImage(f,f.coordX,f.coordY)}}}
;j.prototype.pan=function(a,b){if(!this.isLoaded()){return}var c=Math.sqrt(a*a+b*b);var d=Math.max(10,Math.floor(c/20));this.panSiner=new ca(d);this.panSiner.reset();this.panDistance.width=a;this.panDistance.height=b;this.panStart=new p(this.dragObject.left,this.dragObject.top);k.trigger(this,"movestart");this.doPan()}
;j.prototype.doPan=function(){var a=this.panSiner.next();this.dragObject.moveTo(this.panStart.x+this.panDistance.width*a,this.panStart.y+this.panDistance.height*a);this.onMove();if(this.panSiner.more()){this.panTimeout=ea(this,function(){this.doPan()}
,10);this.rotateTiles()}else{this.panTimeout=null;k.trigger(this,"moveend")}}
;j.prototype.cancelPan=function(){if(this.panTimeout){clearTimeout(this.panTimeout);k.trigger(this,"moveend")}}
;j.prototype.recenterOrPanToLatLng=function(a){if(!this.isLoaded()){return}this.centerLatLng=new p(a.x,a.y);this.lastLatLng=this.centerLatLng;this.lastCenterScreen=new p(this.centerScreen.x,this.centerScreen.y);var a=this.spec.getBitmapCoordinate(this.centerLatLng.y,this.centerLatLng.x,this.zoomLevel);this.recenterOrPanToBitmap(a)}
;j.prototype.recenterOrPanToBitmap=function(a){if(!this.isLoaded())return;var b=this.centerBitmap.x-a.x;var c=this.centerBitmap.y-a.y;if(b==0&&c==0){this.resetCenterScreen();return}if(Math.abs(b)<this.viewSize.width&&Math.abs(c)<this.viewSize.height){this.pan(b,c);return}this.centerAtBitmap(a)}
;j.prototype.centerAndZoom=function(a,b){var c=null;if(!this.isLoaded()||b!=this.zoomLevel){c=this.zoomLevel;this.zoomLevel=b}this.centerAtLatLng(a);if(c!=null){k.trigger(this,"zoom",c,this.zoomLevel)}}
;j.prototype.centerAtLatLng=function(a){this.centerLatLng=new p(a.x,a.y);this.lastLatLng=this.centerLatLng;this.lastCenterScreen=new p(this.centerScreen.x,this.centerScreen.y);var a=this.spec.getBitmapCoordinate(this.centerLatLng.y,this.centerLatLng.x,this.zoomLevel);this.centerAtBitmap(a)}
;j.prototype.centerAtBitmap=function(a){this.centerBitmap.x=a.x;this.centerBitmap.y=a.y;var b=new p(Math.round(this.viewSize.width*this.centerScreen.x),Math.round(this.viewSize.height*this.centerScreen.y));var c=this.centerBitmap.x-b.x-this.tilePaddingOffset.width;var d=this.centerBitmap.y-b.y-this.tilePaddingOffset.height;var e=Math.floor(c/this.spec.tileSize);var f=Math.floor(d/this.spec.tileSize);var g=e*this.spec.tileSize-c;var h=f*this.spec.tileSize-d;if(g<-this.tilePaddingOffset.width/2){e++;g+=this.spec.tileSize}else if(g>this.tilePaddingOffset.width/2){e--;g-=this.spec.tileSize}if(h<-this.tilePaddingOffset.height/2){f++;h+=this.spec.tileSize}else if(h>this.tilePaddingOffset.height/2){f--;h-=this.spec.tileSize}if(!this.isLoaded()){this.topLeftTile=new p(e,f);if(!this.stateMonitor){this.stateMonitor=new da(this)}}else{this.topLeftTile.x=e;this.topLeftTile.y=f}this.currentPanOffset.width=0;this.currentPanOffset.height=0;var i=screen.updateInterval||0;screen.updateInterval=1000;this.dragObject.moveTo(g,h);this.reconfigureAllImages();this.repositionOverlays();screen.updateInterval=i;k.trigger(this,"move");k.trigger(this,"moveend")}
;j.prototype.onResize=function(a){if(this.viewSize.width!=this.container.offsetWidth||this.viewSize.height!=this.container.offsetHeight){this.viewSize.width=this.container.offsetWidth;this.viewSize.height=this.container.offsetHeight;this.calculateTileMeasurements();this.loadTileImages();this.centerAtBitmap(this.centerBitmap);k.trigger(this,"resize")}}
;j.prototype.getCurrentOffset=function(a){if(!a)a=new G(0,0);a.width=this.dragObject.left+this.currentPanOffset.width*this.spec.tileSize;a.height=this.dragObject.top+this.currentPanOffset.height*this.spec.tileSize;return a}
;j.prototype.switchSpecification=function(a,b,c){if(this.spec==a)return;var d=this.spec;var e=b||this.getCenterLatLng();this.setSpecification(a);if(d.tileSize!=a.tileSize){this.topLeftTile=null;this.initializeMap()}if(!c&&c!=0){this.centerAtLatLng(e)}else{this.centerAndZoom(e,c)}k.trigger(this,"maptypechanged",d,a)}
;j.prototype.setSpecification=function(a){this.spec=a;if(!a.emptyTilePreload){var b=document.createElement("IMG");b.style.position="absolute";b.style.visibility="hidden";b.style.top=n(-200);b.style.left=n(-200);document.body.appendChild(b);a.emptyTilePreload=b}this.spec.emptyTilePreload.src=this.spec.emptyTileUrl;this.container.style.backgroundColor=this.spec.backgroundColor;this.div.style.backgroundColor=this.spec.backgroundColor;if(this.dataCopyright){if(this.spec.getCopyrightColor){this.dataCopyright.style.color=this.spec.getCopyrightColor();this.mainCopyright.style.color=this.spec.getCopyrightColor()}else{this.dataCopyright.style.color="black";this.mainCopyright.style.color="black"}if(this.termsLink){if(this.spec.getTermsLinkColor){this.termsLink.style.color=this.spec.getTermsLinkColor()}else{this.termsLink.style.color="#7777cc"}}}this.updateCopyright()}
;j.prototype.updateCopyright=function(){if(this.dataCopyright){if(this.spec.getCopyright){this.dataCopyright.innerHTML=this.spec.getCopyright(this)}else{this.dataCopyright.innerHTML=""}}}
;j.prototype.zoomTo=function(a){if(!this.isLoaded()){return}if(a>=this.spec.numZoomLevels){a=this.spec.numZoomLevels-1}else if(a<0){a=0}if(a!=this.zoomLevel){var b=this.zoomLevel;this.zoomLevel=a;var c;if(this.zoomLevel<b&&this.centerLatLng){c=this.spec.getBitmapCoordinate(this.centerLatLng.y,this.centerLatLng.x,this.zoomLevel)}else{c=this.spec.zoomBitmapCoord(this.zoomLevel,b,this.centerBitmap)}this.centerAtBitmap(c)}k.trigger(this,"zoom",b,this.zoomLevel)}
;j.prototype.checkLongitudeWrapping=function(){var a=this.spec.adjustBitmapX(this.centerBitmap.x,this.zoomLevel);if(a!=this.centerBitmap.x){this.centerBitmap.x=a;this.centerAtBitmap(this.centerBitmap)}}
;j.prototype.addLocation=function(a){if(a.icon.iconClass.name=="noicon")return;this.locations.push(a);this.reOrderLocations();k.trigger(this,"addlocation",a)}
;j.prototype.removeLocation=function(a){if(a.marker){var b=[];for(var c=0;c<this.locations.length;c++){if(this.locations[c]==a){a.marker.removeFromDiv();a.marker=null}else{b.push(this.locations[c])}}if(this.locations.length!=b.length){this.locations=b}}}
;j.prototype.showInfoWindow=function(a,b){if(!this.infoWindow)return;var c=this.spec.getBitmapCoordinate(a.point.y,a.point.x,this.zoomLevel);var d=this.getDivCoordinate(c.x,c.y);if(this.infoWindow.location){k.trigger(this,"infowindowclose",this.infoWindow.location)}this.infoWindow.location=a;this.infoWindow.offscreenArea.innerHTML="";this.infoWindow.offscreenArea.appendChild(b);this.showSizedInfoWindow(d.x,d.y,a.icon.iconClass)}
;j.prototype.closeInfoWindow=function(){if(this.infoWindow&&this.infoWindow.isVisible()){this.infoWindow.hide();this.resetCenterScreen();k.trigger(this,"infowindowclose",this.infoWindow.location);this.infoWindow.location=null}}
;j.prototype.saveMapState=function(){this.lastPageCenter=this.getCenterLatLng();this.lastPageZoom=this.zoomLevel}
;j.prototype.clearOverlays=function(){for(var a=0;a<this.locations.length;a++){var b=this.locations[a];b.marker.removeFromDiv();b.marker=null}this.closeInfoWindow();this.locations.clear();this.directions=null;this.drawDirections(null,this.directionsDiv);this.saveMapState();k.trigger(this,"clearoverlays")}
;j.prototype.reOrderLocations=function(){this.locations.sort(j.orderLocations);for(var a=0;a<this.locations.length;a++){var b=this.locations[a];if(!b.marker){var c=this.createLocationMarker(b.icon.image,b.icon.iconClass);var d=this;var e=b;c.mouseTarget.onmousedown=function(f){A(f);k.trigger(e,"click");k.trigger(d,"click",e)}
;this.setMarkerPosition(c,b.icon.iconClass,b.point);b.marker=c}b.marker.icon.style.zIndex=10+a;b.marker.transparentIcon.style.zIndex=3000+a}}
;j.orderLocations=function(a,b){if(a.point.y>b.point.y)return-1;if(a.point.y<b.point.y)return 1;return 0}
;var cc=s+"markerTransparent.png";var Ua=0;j.prototype.createLocationMarker=function(a,b){var c=t.create(a,b.width,b.height,0,0,10,false,"noprint");var d=t.create(cc,b.width,b.height,0,0,3000,false,"noprint");var e=t.create(b.shadowURL,b.shadowWidth,b.height,0,0,3,false,"noprint");var f=v.type==2?"ff":"ie";var g=W.create(a.replace(/\.png$/,f+".gif"),b.width,b.height,0,0,10,false,"noscreen");var h=b.shadowURL.replace(/[^\/]*$/,"dithshadow.gif");var i=W.create(h,b.shadowWidth,b.height,0,0,3,false,"noscreen");var l=null;var m=d;if(v.type==2){var o="map"+Ua;Ua++;l=document.createElement("map");l.setAttribute("name",o);var r=document.createElement("area");r.setAttribute("shape","poly");r.setAttribute("alt","");r.setAttribute("coords",b.imageMapArray.join(","));r.setAttribute("href","javascript:void(0)");m=r;l.appendChild(r);d.setAttribute("usemap","#"+o)}else{C(m,"pointer")}var w=new T(c,d,e,l,m);w.addLayer(g);if(v.type!=2){w.addLayer(i)}w.appendTo(this.div);return w}
;j.prototype.setMarkerPosition=function(a,b,c){var d=this.spec.getBitmapCoordinate(c.y,c.x,this.zoomLevel);var e=this.getDivCoordinate(d.x,d.y);var f=e.x-b.pointCoord.x;var g=e.y-b.pointCoord.y;a.setPosition(f,g)}
;j.prototype.repositionOverlays=function(){for(var a=0;a<this.locations.length;a++){var b=this.locations[a];this.setMarkerPosition(b.marker,b.icon.iconClass,b.point)}this.drawDirections(this.directions,this.directionsDiv,true);if(this.infoWindow){this.repositionInfoWindow();if(v.type!=1&&this.infoWindow.hasMask()){this.addMarkersToInfoWindowMask()}}}
;j.prototype.repositionInfoWindow=function(){if(!this.infoWindow.isVisible()||!this.infoWindow.location){return}var a=this.infoWindow.location.point;var b=this.spec.getBitmapCoordinate(a.y,a.x,this.zoomLevel);var c=this.getDivCoordinate(b.x,b.y);this.infoWindow.positionAt(c.x,c.y,this.infoWindow.location.icon.iconClass)}
;j.prototype.onInfoCloseClick=function(a){this.closeInfoWindow()}
;j.prototype.resetCenterScreen=function(){var a=0.5;var b=0.5;var c=null;if(this.infoWindow&&(this.infoWindow.isVisible()&&this.infoWindow.location)){var d=this.getScreenCoord(this.infoWindow.location.point);if(d.x>=0&&(d.x<=1&&(d.y>=0&&d.y<=1))){a=d.x;b=d.y;c=new p(this.infoWindow.location.point.x,this.infoWindow.location.point.y)}}if(a==this.centerScreen.x&&b==this.centerScreen.y){return}this.centerBitmap.x-=Math.round(this.viewSize.width*(this.centerScreen.x-a));this.centerBitmap.y-=Math.round(this.viewSize.height*(this.centerScreen.y-b));this.centerScreen.x=a;this.centerScreen.y=b;if(c){this.centerLatLng=c}else{this.centerLatLng=null;this.centerLatLng=this.getCenterLatLng()}}
;j.prototype.getScreenCoord=function(a){var b=this.getBoundsLatLng();var c=(a.x-b.minX)/(b.maxX-b.minX);var d=(b.maxY-a.y)/(b.maxY-b.minY);return new p(c,d)}
;j.prototype.panToInfoWindow=function(){var a=this.spec.getBitmapCoordinate(this.infoWindow.location.point.y,this.infoWindow.location.point.x,this.zoomLevel);var b=this.getDivCoordinate(a.x,a.y);var c=new p(this.centerBitmap.x,this.centerBitmap.y);var d=this.infoWindow.left+(a.x-b.x);var e=this.infoWindow.top+(a.y-b.y);var f=Math.round(this.viewSize.width*this.centerScreen.x);var g=this.viewSize.width-f;var h=Math.round(this.viewSize.height*this.centerScreen.y);var i=this.viewSize.height-h;c.y=Math.min(c.y,e+h-25);c.y=Math.max(c.y,a.y-i+25);var l=25;var m=a.y-this.infoWindow.getTotalHeightAboveGround()-(c.y-h);if(m<55){l=l+50}else if(m<295){l=l+35}c.x=Math.min(c.x,d+f-l);c.x=Math.max(c.x,d+this.infoWindow.getTotalWidth()-g+25);this.centerLatLng=null;this.recenterOrPanToBitmap(c)}
;j.prototype.showSizedInfoWindow=function(a,b,c){var d=O.create("infoWindowOffscreen");this.infoWindow.prepareOffscreen();ea(this,function(){if(d.isValid()){this.infoWindow.flipOffscreenAndSize();this.infoWindow.positionAt(a,b,c);if(v.type!=1&&this.infoWindow.hasMask()){this.addMarkersToInfoWindowMask()}this.infoWindow.show();this.panToInfoWindow();k.trigger(this,"infowindowopen",this.infoWindow.location)}}
,0)}
;j.prototype.addMarkersToInfoWindowMask=function(){if(!this.infoWindow.isVisible()||!this.infoWindow.location){return}this.infoWindow.clearMaskMap();var a=new p(this.infoWindow.getOffsetLeft(),this.infoWindow.getOffsetTop());var b=new p(a.x+this.infoWindow.getTotalWidth(),a.y+this.infoWindow.getTotalHeight());for(var c=0;c<this.locations.length;c++){var d=this.locations[c].marker;if(d.icon.offsetTop>b.y){break}this.addMarkerToInfoWindowMask(a,b,d)}if(this.directionsMarkersAreVisible()){this.addMarkerToInfoWindowMask(a,b,this.directionsStart);this.addMarkerToInfoWindowMask(a,b,this.directionsEnd)}}
;j.prototype.addMarkerToInfoWindowMask=function(a,b,c){var d=c.icon;if(d.offsetLeft+d.width>=a.x&&(d.offsetLeft<=b.x&&(d.offsetTop+d.height>=a.y&&d.offsetTop<=b.y))){var e=D.get("local").translateImageMapArray(d.offsetLeft-a.x,d.offsetTop-a.y);this.infoWindow.addAreaToMaskMap(e,c.mouseTarget.onmousedown)}}
;j.prototype.registerKeyHandlers=function(a){if(v.type==2&&v.os==2){k.bindDom(a,"keydown",this,this.cancelKey);k.bindDom(a,"keypress",this,this.handleKey)}else{k.bindDom(a,"keydown",this,this.handleKey);k.bindDom(a,"keypress",this,this.cancelKey)}k.bindDom(a,"keyup",this,this.releaseKey)}
;j.prototype.handleKey=function(a){if(this.ignoreKeyEvent(a)){return true}switch(a.keyCode){case 38:case 40:case 37:case 39:this.panKeys.add(a.keyCode);this.startContinuousPan();A(a);return false;case 34:this.pan(0,-Math.floor(this.viewSize.height*0.75));A(a);return false;case 33:this.pan(0,Math.floor(this.viewSize.height*0.75));A(a);return false;case 36:this.pan(Math.floor(this.viewSize.width*0.75),0);A(a);return false;case 35:this.pan(-Math.floor(this.viewSize.width*0.75),0);A(a);return false;case 187:case 107:this.zoomTo(this.zoomLevel-1);A(a);return false;case 189:case 109:this.zoomTo(this.zoomLevel+1);A(a);return false}switch(a.which){case 61:case 43:this.zoomTo(this.zoomLevel-1);A(a);return false;case 45:case 95:this.zoomTo(this.zoomLevel+1);A(a);return false}return true}
;j.prototype.cancelKey=function(a){if(this.ignoreKeyEvent(a)){return true}switch(a.keyCode){case 38:case 40:case 37:case 39:case 34:case 33:case 36:case 35:case 187:case 107:case 189:case 109:A(a);return false}switch(a.which){case 61:case 43:case 45:case 95:A(a);return false}return true}
;j.prototype.releaseKey=function(a){switch(a.keyCode){case 38:case 40:case 37:case 39:this.panKeys.remove(a.keyCode);return false}return true}
;j.prototype.ignoreKeyEvent=function(a){if(a.ctrlKey||(a.altKey||a.metaKey)){return true}if(a.target&&(a.target.nodeName=="INPUT"&&a.target.getAttribute("type").toLowerCase()=="text"||a.target.nodeName=="TEXTAREA")){return true}return false}
;j.prototype.startContinuousPan=function(){if(!this.isLoaded()){return}this.cancelPan();k.trigger(this,"movestart");if(!this.continuousPanTimeout){this.panSiner=new ca(100);this.continuousPanTimeout=ea(this,function(){this.doContinuousPan()}
,5)}}
;j.prototype.doContinuousPan=function(){if(this.panKeys.size>0){var a=(this.panKeys.contains(37)?1:0)+(this.panKeys.contains(39)?-1:0);var b=(this.panKeys.contains(38)?1:0)+(this.panKeys.contains(40)?-1:0);var c=1;if(this.panSiner.more()){c=this.panSiner.next()}var d=a>0?Math.floor:Math.ceil;var e=d(7*c*a+5*a);d=b>0?Math.floor:Math.ceil;var f=d(7*c*b+5*b);this.dragObject.moveTo(this.dragObject.left+e,this.dragObject.top+f);this.onMove();this.rotateTiles();this.continuousPanTimeout=ea(this,function(){this.doContinuousPan()}
,10)}else{this.continuousPanTimeout=null;k.trigger(this,"moveend")}}
;j.prototype.onWindowBlur=function(a){if(this.panKeys.size>0){this.panKeys=new ba()}}
;j.prototype.createSpecToggleLinks=function(a,b){var c=[];for(var d=0;d<this.mapTypes.length;d++){var e=this.mapTypes[d];var f=this.createSpecChangeLink(e);c.push(f);a.appendChild(f);if(!b){}if(d<this.mapTypes.length-1){a.appendChild(document.createTextNode(" - "))}}var h=this;var i=function(l,m){for(var o=0;o<h.mapTypes.length;o++){var r=h.mapTypes[o];var w=c[o];if(m==r){w.style.fontWeight="";w.style.textDecoration="none";w.style.color="black"}else{w.style.fontWeight="";w.style.textDecoration="";w.style.color=""}}if(v.type==1||v.type==4&&v.version==7){window.setTimeout(function(){h.reconfigureAllImages()}
,0)}}
;k.addListener(this,"maptypechanged",i);i(null,this.spec)}
;j.prototype.createSpecChangeLink=function(a){var b=this;var c=function(){b.switchSpecification(a)}
;return gc(a.getLinkText(),c)}
;j.prototype.showMapControl=function(){var a=this.createMapControl();a.style.position="absolute";a.style.left=n(8);a.style.top=n(8);Y(a,"noprint");this.container.appendChild(a)}
;j.prototype.createMapControl=function(){var a=document.createElement("div");this.createPanningControls(a);this.createZoomControls(a);this.createZoomSlider(a);return a}
;j.prototype.showSmallMapControl=function(){var a=this.createSmallMapControl();a.style.position="absolute";a.style.left=n(9);a.style.top=n(9);Y(a,"noprint");this.container.appendChild(a)}
;j.prototype.createSmallMapControl=function(){var a=document.createElement("div");this.createSmallPanningControls(a);this.createSmallZoomControls(a);return a}
;j.prototype.showSmallZoomControl=function(){var a=document.createElement("div");this.createSmallZoomControls(a);a.style.position="absolute";a.style.left=n(-3);a.style.top=n(-51);Y(a,"noprint");this.container.appendChild(a)}
;var Ub=s+"zoom-plus.png";var Vb=s+"zoom-minus.png";j.prototype.createZoomControls=function(a){var b=t.create(Ub,17,17,20,70,1,false);C(b,"pointer");k.bindDom(b,"click",this,function(d){this.zoomTo(this.zoomLevel-1);A(d)}
);b.title=_mZoomIn;a.appendChild(b);var c=t.create(Vb,17,17,20,260,1,false);C(c,"pointer");k.bindDom(c,"click",this,function(d){this.zoomTo(this.zoomLevel+1);A(d)}
);c.title=_mZoomOut;a.appendChild(c)}
;var Ob=s+"center.png";var Pb=s+"east.png";var Tb=s+"west.png";var Qb=s+"north.png";var Sb=s+"south.png";var Rb=s+"panshadow.png";j.prototype.createPanningControls=function(a){var b=t.create(Rb,59,64,0,0,0,false);a.appendChild(b);var c=t.create(Qb,17,17,20,0,1,false);C(c,"pointer");k.bindDom(c,"click",this,function(h){this.pan(0,Math.floor(this.viewSize.height*0.5));A(h)}
);c.title=_mPanNorth;a.appendChild(c);var d=t.create(Pb,17,17,40,20,1,false);C(d,"pointer");k.bindDom(d,"click",this,function(h){this.pan(-Math.floor(this.viewSize.width*0.5),0);A(h)}
);d.title=_mPanEast;a.appendChild(d);var e=t.create(Sb,17,17,20,40,1,false);C(e,"pointer");k.bindDom(e,"click",this,function(h){this.pan(0,-Math.floor(this.viewSize.height*0.5));A(h)}
);e.title=_mPanSouth;a.appendChild(e);var f=t.create(Tb,17,17,0,20,1,false);C(f,"pointer");k.bindDom(f,"click",this,function(h){this.pan(Math.floor(this.viewSize.width*0.5),0);A(h)}
);f.title=_mPanWest;a.appendChild(f);var g=t.create(Ob,17,17,20,20,1,false);C(g,"pointer");k.bindDom(g,"click",this,function(h){this.closeInfoWindow();if(this.lastPageCenter){if(this.lastPageZoom!=this.zoomLevel){this.centerAndZoom(this.lastPageCenter,this.lastPageZoom)}else{this.recenterOrPanToLatLng(this.lastPageCenter)}}else if(this.lastLatLng){this.recenterOrPanToLatLng(this.lastLatLng)}A(h)}
);g.title=_mLastResult;a.appendChild(g)}
;var Wb=s+"slider.png";j.prototype.createZoomSlider=function(a){if(this.mapTypes[0].numZoomLevels>=18){var b=s+"18sliderbar.png";var c=s+"18slidershadow.png";var d=166;var e=214;this.sliderNotchHeight=9}else{var b=s+"sliderbar.png";var c=s+"slidershadow.png";var d=167;var e=215;this.sliderNotchHeight=11}var f=t.create(c,19,e,20,64,0,false);a.appendChild(f);var g=document.createElement("div");g.style.position="absolute";g.style.left=n(21);g.style.top=n(90);g.style.width=n(15);g.style.height=n(d);var b=t.create(b,15,d,0,0,1,false);g.appendChild(b);var h=-1*Math.floor(3.5)+1;var i=t.create(Wb,22,14,h,this.getRelativeZoomSliderPos(),2,false);i.title=_mZoomDrag;g.appendChild(i);a.appendChild(g);var l=new z(h,1,h+22,d-1);var m=new Q(i,h,this.getRelativeZoomSliderPos(),l);k.bind(this,"zoom",this,function(){m.moveTo(h,this.getRelativeZoomSliderPos())}
);if(v.type==1){k.bind(m,"dragstart",this,function(){this.savedOffset={"x":this.div.offsetLeft,"y":this.div.offsetTop};this.hideOverlays()}
);k.bind(m,"drag",this,function(){var o=m.top+Math.floor(this.sliderNotchHeight/2);var r=this.getZoomFactorFromRelativeCoord(o);this.applyZoom(r)}
);k.bind(m,"dragend",this,function(){var o=m.top+Math.floor(this.sliderNotchHeight/2);this.targetZoom=this.getZoomFromRelativeCoord(o);this.currentZoom=this.getZoomFactorFromRelativeCoord(o);this.zoomInterval=kc(this,this.animateZoom,50)}
)}else{k.bind(m,"dragend",this,function(){var o=m.top+Math.floor(this.sliderNotchHeight/2);this.zoomTo(this.getZoomFromRelativeCoord(o))}
)}C(b,"pointer");b.title=_mZoomSet;

k.bindDom(b,"click",this,function(o){var r;if(v.type==1){r=window.event.offsetY}else{var w=ua(g);r=o.pageY-w.y-2}A(o);this.zoomTo(this.getZoomFromRelativeCoord(r))}
)}
;j.prototype.applyZoom=function(a){var b=Math.pow(2,this.zoomLevel-a);this.div.style.zoom=b;var c=this.viewSize.width*this.centerScreen.x;var d=this.viewSize.height*this.centerScreen.y;this.div.style.left=n((this.savedOffset.x-c)*b+c);this.div.style.top=n((this.savedOffset.y-d)*b+d)}
;j.prototype.animateZoom=function(){this.currentZoom=this.currentZoom+0.3*(this.targetZoom-this.currentZoom);if(Math.abs(this.targetZoom-this.currentZoom)<0.05){this.div.style.left=n(this.savedOffset.x);this.div.style.top=n(this.savedOffset.y);this.savedOffset=null;this.div.style.zoom=1;this.showOverlays();this.zoomTo(this.targetZoom);window.clearInterval(this.zoomInterval)}else{this.applyZoom(this.currentZoom)}}
;j.prototype.hideOverlays=function(){this.infoWindowVisible=this.infoWindow&&this.infoWindow.isVisible();if(this.infoWindowVisible){this.infoWindow.hide()}for(var a=0;a<this.locations.length;++a){this.locations[a].marker.hide()}this.markersVisible=this.directionsMarkersAreVisible();if(this.markersVisible){this.hideDirectionsMarkers()}}
;j.prototype.showOverlays=function(){if(this.infoWindowVisible){this.infoWindow.show()}for(var a=0;a<this.locations.length;++a){this.locations[a].marker.show()}if(this.markersVisible){this.showDirectionsMarkers()}}
;j.prototype.getRelativeZoomSliderPos=function(){return 1+this.zoomLevel*this.sliderNotchHeight}
;j.prototype.getZoomFromRelativeCoord=function(a){var b=Math.floor((a-1)/this.sliderNotchHeight);return Math.max(0,Math.min(this.spec.numZoomLevels-1,b))}
;j.prototype.getZoomFactorFromRelativeCoord=function(a){var b=(a-1)/this.sliderNotchHeight;return Math.max(0,Math.min(this.spec.numZoomLevels-1,b))}
;j.prototype.showCopyright=function(a){var b=this.createCopyright(_mGoogleCopy);if(!a){b.appendChild(document.createTextNode(" - "));var c=document.createElement("a");c.style.color="#7777cc";c.href=_mTermsURL;c.appendChild(document.createTextNode(_mTerms));b.appendChild(c);this.termsLink=c}b.style.left=n(3);b.style.bottom=n(3);this.container.appendChild(b);this.mainCopyright=b;var d=this.createCopyright("");d.style.right=n(3);d.style.bottom=n(3);this.container.appendChild(d);this.dataCopyright=d}
;j.prototype.createCopyright=function(a){var b=document.createElement("DIV");b.style.position="absolute";C(b,"default");b.unselectable="on";b.onselectstart=fa;b.innerHTML=a;b.style.fontSize=n(11);b.style.fontFamily="Arial, sans serif";b.style.MozUserSelect="none";return b}
;var Ib=s+"east-mini.png";var Lb=s+"west-mini.png";var Jb=s+"north-mini.png";var Kb=s+"south-mini.png";var Mb=s+"zoom-plus-mini.png";var Nb=s+"zoom-minus-mini.png";j.prototype.createSmallPanningControls=function(a){var b=t.create(Jb,18,18,9,0,1,false);C(b,"pointer");k.bindDom(b,"click",this,function(f){this.pan(0,Math.floor(this.viewSize.height*0.5));A(f)}
);b.title=_mPanNorth;a.appendChild(b);var c=t.create(Ib,18,18,18,18,1,false);C(c,"pointer");k.bindDom(c,"click",this,function(f){this.pan(-Math.floor(this.viewSize.width*0.5),0);A(f)}
);c.title=_mPanEast;a.appendChild(c);var d=t.create(Kb,18,18,9,36,1,false);C(d,"pointer");k.bindDom(d,"click",this,function(f){this.pan(0,-Math.floor(this.viewSize.height*0.5));A(f)}
);d.title=_mPanSouth;a.appendChild(d);var e=t.create(Lb,18,18,0,18,1,false);C(e,"pointer");k.bindDom(e,"click",this,function(f){this.pan(Math.floor(this.viewSize.width*0.5),0);A(f)}
);e.title=_mPanWest;a.appendChild(e)}
;j.prototype.createSmallZoomControls=function(a){var b=t.create(Mb,18,18,9,57,1,false);C(b,"pointer");k.bindDom(b,"click",this,function(d){this.zoomTo(this.zoomLevel-1);A(d)}
);b.title=_mZoomIn;a.appendChild(b);var c=t.create(Nb,18,18,9,75,1,false);C(c,"pointer");k.bindDom(c,"click",this,function(d){this.zoomTo(this.zoomLevel+1);A(d)}
);c.title=_mZoomOut;a.appendChild(c)}

// Copyright 2005 Google
j.prototype.addStateListener=function(a){k.addListener(this,"moveend",a)}
;j.prototype.loadVPageStr=function(a){if(!this.deprecatedLocationListener){this.deprecatedLocationListener=k.bind(this,"click",this,this.onMapClick)}try{var b=Fa(a);var c=oa.loadFromXML(b);if(c.center){var d=this.zoomLevel;if(c.viewSpan){d=this.spec.getLowestZoomLevel(c.center,c.viewSpan,this.viewSize)}if(!this.isLoaded()||d!=this.zoomLevel){this.centerAndZoom(c.center,d)}else{this.recenterOrPanToLatLng(c.center)}}for(var e=0;e<c.overlays.length;e++){for(var f=0;f<c.overlays[e].locations.length;f++){this.addLocation(c.overlays[e].locations[f])}}this.directions=c.directions;this.drawDirections(this.directions,this.directionsDiv)}catch(g){u.dump(g)}}
;j.prototype.clearInfoWindowArgs=function(a){a.xml.setAttribute("arg0","");a.xml.setAttribute("arg1","");a.xml.setAttribute("arg2","")}
;j.prototype.infoWindowNavigate=function(a,b,c,d){if(!this.infoWindow.location){return}if(b)this.infoWindow.location.xml.setAttribute("arg0",b);if(c)this.infoWindow.location.xml.setAttribute("arg1",c);if(d)this.infoWindow.location.xml.setAttribute("arg2",d);if(a){var e=null;var f=O.create("iwloadhandler");var g=function(){if(f.isValid()){a()}k.removeListener(e)}
;e=k.addListener(this,"infowindowopen",g)}this.showInfoWindowFromXML(this.infoWindow.location)}
;j.prototype.onMapClick=function(a){if(a&&(a.xml&&a.infoStyle)){this.clearInfoWindowArgs(a);this.showInfoWindowFromXML(a)}}
;j.prototype.showInfoWindowFromXML=function(a){var b=document.createElement("div");var c=this;var d=function(){c.showInfoWindow(a,b)}
;H.asynchronousTransform(a.xml,b,a.infoStyle,d,null)}

// Copyright 2005 Google
var Xb=new p(0,0);var Ca=new p(0,0);j.prototype.getVMLPathString=function(a){F.start("Map","getVMLPathString");var b=new Array();b.push("m");b.push(a.polyline.points[0]);b.push(a.polyline.points[1]);b.push("l");b=b.concat(a.polyline.points);for(var c=0;c<a.segments.length;c++){var d=a.segments[c].pointIndex<<1;var e=d+4;var f=b[e];var g=b[e+1];b[e]=f+" "+g+" e m";b[e+1]=f+" "+g+" l"}b.push("e");var h=b.join(" ");F.end("Map","getVMLPathString");return h}
;j.prototype.createRawVML=function(a,b,c){F.start("Map","createRawVML");var d;if(!c){c=document.createElement("v:shape");d=document.createElement("v:stroke");c.appendChild(d);c.path=a}else{b.removeChild(c);d=c.firstChild}var e=this.centerBitmap;var f=this.getDivCoordinate(e.x,e.y,Ca);c.unselectable="on";c.fill=false;c.filled=false;var g=100;var h=100;c.style.position="absolute";c.style.width=n(g);c.style.height=n(h);c.style.left=n(f.x);c.style.top=n(f.y-h);c.style.rotation="-90";var i=this.getCenterLatLng();var l=i.y*100000+" "+i.x*100000;c.coordorigin=l;var m=this.spec.getPixelsPerDegree(this.zoomLevel);c.coordsize=100000*h/m.y+" "+100000*g/m.x;d.joinstyle="round";d.endcap="round";d.opacity=0.45;d.color="blue";d.weight=n(5);F.end("Map","createRawVML");b.appendChild(c);return c}
;j.prototype.getBitmapVectors=function(a,b,c,d){if(!b)b=new Array();if(!c)c=new z();c.minX=I;c.minY=I;c.maxX=-I;c.maxY=-I;for(var e=0;e<a.length;){var f=a[e++];var g=a[e++];var h=this.spec.getBitmapCoordinate(f,g,d,Xb);h.x=Math.round(h.x);h.y=Math.round(h.y);b.push(h.x);b.push(h.y);if(h.x<c.minX)c.minX=h.x;if(h.y<c.minY)c.minY=h.y;if(h.x>c.maxX)c.maxX=h.x;if(h.y>c.maxY)c.maxY=h.y}return b}
;j.prototype.getVectorPath=function(a,b){var c=new Array();var d;var e;for(var f=0;f<a.length;){var g=a[f++];var h=a[f++];var i=a[f++];var l=a[f++];if(h!=d||g!=e){c.push("m");c.push(g);c.push(h);c.push("l")}c.push(i);c.push(l);d=l;e=i}c.push("e");return c.join(" ")}
;j.prototype.getEncodedImageSource=function(a,b,c){var d=[];var e;var f;for(var g=0;g<a.length;){var h=a[g++];var i=a[g++];var l=a[g++];var m=a[g++];if(h==l&&i==m){continue}if(h!=e||i!=f){if(d.length>0){V(9999,d)}V(h-b,d);V(i-c,d)}V(l-h,d);V(m-i,d);f=m;e=l}V(9999,d);return d.join("")}
;j.prototype.createVectorSegments=function(a,b,c,d){F.start("Map","createVectorSegments");var e=a.getVectors(b,c);var f=new Array();var g=new z();this.getBitmapVectors(e,f,g,this.zoomLevel);if(!d){d=new z()}var h=z.intersection(d,g);var i;if(f.length>0){var l=this.centerBitmap;var m=this.getDivCoordinate(l.x,l.y,Ca);i=document.createElement("v:shape");i.unselectable="on";i.fill=false;i.filled=false;var o=1;var r=1;i.style.position="absolute";i.style.width=n(o);i.style.height=n(r);i.style.left=n(m.x);i.style.top=n(m.y);var w=l.x+" "+l.y;i.coordorigin=w;i.coordsize=o+" "+r;i.path=this.getVectorPath(f,h);var E=document.createElement("v:stroke");E.joinstyle="round";E.endcap="round";E.opacity=0.45;E.color="blue";E.weight=n(5);i.appendChild(E)}else{i=document.createElement("div")}i.sourceBounds=d;F.end("Map","createVectorSegments");return i}
;j.prototype.createImageSegments=function(a,b,c,d){F.start("Map","createImageSegments");var e;var f;do{var g=a.getVectors(b,c);var h=new Array();var i=new z();this.getBitmapVectors(g,h,i,this.zoomLevel);i.minX-=10;i.minY-=10;i.maxX+=10;i.maxY+=10;if(!d){d=new z()}f=z.intersection(d,i);e=this.getEncodedImageSource(h,f.minX,f.minY);++c}while(e.length>900);var l;if(e.length>0){var m=this.getDivCoordinate(f.minX,f.minY,Ca);var o=Math.ceil(f.maxX-f.minX);var r=Math.ceil(f.maxY-f.minY);var w="http://www.google.com/maplinedraw?width="+o+"&height="+r+"&path="+e;u.writeURL(w);if(v.type!=1){o=null;r=null}var E=v.type==2?"noprint":null;l=t.create(w,o,r,m.x,m.y,0,false,E)}else{l=document.createElement("div")}l.sourceBounds=d;F.end("Map","createImageSegments");return l}
;j.prototype.drawDirections=function(a,b,c){if(!a&&!b.directions){return}var d=this.getBoundsBitmap();var e=b.directionsBounds;if(!c){if(a==b.directions){if(e.containsBounds(d)){return}}}if(b.directions!=a){while(b.hasChildNodes()){b.removeChild(b.lastChild)}b.directions=a;if(this.useRawVml&&(a&&(v.type==1&&(!this.forceImageSegments&&a.polyline.points.length<16000)))){var f=this.getVMLPathString(a);b.path=f}else{b.path=null}}if(a){F.start("Map","drawDirections");var g=null;var h=900;var i=Math.min(this.viewSize.width,h);var l=Math.min(this.viewSize.height,h);if(v.type==1&&!this.forceImageSegments){i=5000;l=5000}e.minX=this.centerBitmap.x-i;e.minY=this.centerBitmap.y-l;e.maxX=this.centerBitmap.x+i;e.maxY=this.centerBitmap.y+l;var m=this.spec.getLatLng(e.minX,e.minY,this.zoomLevel);var o=this.spec.getLatLng(e.maxX,e.maxY,this.zoomLevel);var r=new z(m.x,o.y,o.x,m.y);if(b.path){g=null;if(b.hasChildNodes()){g=b.firstChild}g=this.createRawVML(b.path,b,g)}else{while(b.hasChildNodes()){b.removeChild(b.lastChild)}var w=this.getPolylineTolerance(a.polyline);if(v.type==1&&!this.forceImageSegments){g=this.createVectorSegments(a.polyline,r,w,e)}else{g=this.createImageSegments(a.polyline,r,w,e)}b.appendChild(g)}g.style.zIndex=2;this.drawDirectionsMarkers();this.setDirectionIndicatorPos();F.end("Map","drawDirections")}else{e.minX=-I;e.minY=-I;e.maxX=I;e.maxY=I;this.hideDirectionsMarkers()}}
;j.prototype.getPolylineTolerance=function(a){var b=0;var c=new G(a.minTolerance,a.minTolerance);var d=new G(2,2);while(b<a.numLevels){c.width*=a.zoomFactor;c.height*=a.zoomFactor;if(this.zoomLevel<this.spec.getLowestZoomLevel(this.getCenterLatLng(),c,d)){break}++b}return b}
;var Gb=s+"dd-start.png";var Fb=s+"dd-end.png";j.prototype.drawDirectionsMarkers=function(){if(!this.directionsStart||!this.directionsEnd){this.directionsStart=this.createLocationMarker(Gb,D.get("local"));this.directionsEnd=this.createLocationMarker(Fb,D.get("local"));if(this.infoWindow){var a=this;this.directionsStart.mouseTarget.onmousedown=function(e){A(e);a.showDirectionsStart()}
;this.directionsEnd.mouseTarget.onmousedown=function(e){A(e);a.showDirectionsEnd()}
}}this.setMarkerPosition(this.directionsStart,D.get("local"),this.directions.polyline.getPoint(0));var b=(this.directions.polyline.points.length>>1)-1;this.setMarkerPosition(this.directionsEnd,D.get("local"),this.directions.polyline.getPoint(b));this.directionsStart.show();this.directionsEnd.show();var c=0;var d=0;if(this.directions.polyline.getPoint(0).y<this.directions.polyline.getPoint(b).y){c=1}else{d=1}this.directionsStart.icon.style.zIndex=10+c;this.directionsStart.transparentIcon.style.zIndex=3000+c;this.directionsEnd.icon.style.zIndex=10+d;this.directionsEnd.transparentIcon.style.zIndex=3000+d}
;j.prototype.showDirectionsStart=function(){if(!this.directions)return;this.showMapBlowup(this.directions.polyline.getPoint(0),D.get("local"))}
;j.prototype.showDirectionsEnd=function(){if(!this.directions)return;var a=(this.directions.polyline.points.length>>1)-1;this.showMapBlowup(this.directions.polyline.getPoint(a),D.get("local"))}
;j.prototype.showDirectionsStep=function(a,b){if(!this.directions)return;var c=this.directions.polyline.getPoint(a.pointIndex);var d=this.showMapBlowup(c,null,b);if(a.pointIndex!=0){var e=d.getDirIndicatorAngle(a.pointIndex);var f=d.getDirIndicatorPath(e);var g=t.create(f,24,24,0,0,2,false);d.directionMarker=g;d.directionMarkerAngle=e;d.directionMarkerPoint=c;d.setDirectionIndicatorPos();d.div.appendChild(g)}}
;j.prototype.setDirectionIndicatorPos=function(){var a=this.directionMarker;if(!a)return;var b=this.directionMarkerAngle;var c=this.directionMarkerPoint;var d=12*Math.cos(b);var e=12*Math.sin(b);d=Math.floor(-12-d);e=Math.floor(-12-e);var f=this.spec.getBitmapCoordinate(c.y,c.x,this.zoomLevel);var g=this.getDivCoordinate(f.x,f.y);a.style.left=n(g.x+d);a.style.top=n(g.y+e)}
;j.prototype.getDirIndicatorAngle=function(a){var b=0;if(a>1){var c=this.directions.polyline.getPoint(a-2);var d=this.directions.polyline.getPoint(a);c=this.spec.getBitmapCoordinate(c.y,c.x,this.zoomLevel);d=this.spec.getBitmapCoordinate(d.y,d.x,this.zoomLevel);b=Math.atan2(d.y-c.y,d.x-c.x)}return b}
;var Hb=s+"dir_";j.prototype.getDirIndicatorPath=function(a){var b=Math.round(a*60/Math.PI)*3+90;while(b>=120)b-=120;while(b<0)b+=120;var c=Hb+b+".png";return c}
;j.prototype.hideDirectionsMarkers=function(){if(this.directionsStart&&this.directionsEnd){this.directionsStart.hide();this.directionsEnd.hide()}}
;j.prototype.showDirectionsMarkers=function(){if(this.directionsStart&&this.directionsEnd){this.directionsStart.show();this.directionsEnd.show()}}
;j.prototype.directionsMarkersAreVisible=function(){return this.directionsStart&&(this.directionsEnd&&(this.directionsStart.isVisible()&&this.directionsEnd.isVisible()))}
;j.prototype.showMapBlowup=function(a,b,c){if(this.disablePopups)return;b=b?b:D.get("noicon");var d=new ka(a,new ia(null,b),c);var e=document.createElement("div");e.style.border="1px solid #979797";e.style.width=n(200);e.style.height=n(200);var f=this.mapBlowupSpec?this.mapBlowupSpec:this.spec;var g=new j(e,this.mapTypes,200,200,true,true,true);g.directions=this.directions;if(f==g.spec){g.centerAndZoom(a,this.mapBlowupZoomLevel)}else{g.switchSpecification(f,a,this.mapBlowupZoomLevel)}g.showSmallZoomControl();var h=this;k.addListener(g,"moveend",function(){h.mapBlowupZoomLevel=g.zoomLevel;h.mapBlowupSpec=g.spec}
);if(v.type==1){var i=k.addListener(this,"infowindowopen",function(){try{g.drawDirections(g.directions,g.directionsDiv,true)}catch(o){u.dump(o)}k.removeListener(i)}
)}var l=e;if(this.mapTypes.length>1){l=document.createElement("div");l.appendChild(e);var m=document.createElement("div");m.style.marginTop=n(5);m.style.fontSize="small";g.createSpecToggleLinks(m);l.appendChild(m)}this.showInfoWindow(d,l);return g}

// Copyright 2005 Google
function T(a,b,c,d,e){this.icon=a;this.transparentIcon=b;this.shadow=c;this.layer=[a,b,c];this.map=d;this.mouseTarget=e;this.div=null}
T.prototype.addLayer=function(a){this.layer.push(a)}
;T.prototype.setPosition=function(a,b){for(var c=0;c<this.layer.length;++c){this.layer[c].style.left=n(a);this.layer[c].style.top=n(b)}}
;T.prototype.appendTo=function(a){if(this.div){return}this.div=a;for(var b=0;b<this.layer.length;++b){a.appendChild(this.layer[b])}if(this.map){a.appendChild(this.map)}}
;T.prototype.removeFromDiv=function(){if(!this.div){return}for(var a=0;a<this.layer.length;++a){this.div.removeChild(this.layer[a])}if(this.mouseTarget){this.mouseTarget.onmousedown=null}if(this.map){this.div.removeChild(this.map)}}
;T.prototype.hide=function(){for(var a=0;a<this.layer.length;++a){this.layer[a].style.display="none"}}
;T.prototype.show=function(){for(var a=0;a<this.layer.length;++a){this.layer[a].style.display=""}}
;T.prototype.isVisible=function(){return this.layer[0].style.display!="none"}

// Copyright 2005 Google
function da(a){this.anchorLevel=null;this.anchor=new p(0,0);this.spec=null;this.span=new G(I,I);this.points=null;this.map=a;k.bind(this.map,"moveend",this,this.onMapMoveEnd);k.bind(this.map,"resize",this,this.onMapResize)}
da.prototype.onMapMoveEnd=function(){if(this.anchorLevel!=this.map.zoomLevel||this.spec!=this.map.spec){this.reset();this.addPoint(0,0,true);return}var a=this.map.getCenterLatLng();var b=Math.round((a.x-this.anchor.x)/this.span.width);var c=Math.round((a.y-this.anchor.y)/this.span.height);this.addPoint(b,c,true);fnSetLatLon(myMapApp.map.getCenterLatLng());}
;da.prototype.onMapResize=function(){this.reset();this.addPoint(0,0,false)}
;da.prototype.reset=function(){this.map.getCenterLatLng(this.anchor);this.map.getSpanLatLng(this.span);this.spec=this.map.spec;this.anchorLevel=this.map.zoomLevel;this.points=new Object()}
;da.prototype.addPoint=function(a,b,c){var d=a+","+b;if(this.points[d])return;this.points[d]=1;if(c){var e=new B();e.setAllMapValues(this.map);var f=new p(this.anchor.x+a*this.span.width,this.anchor.y+b*this.span.height);e.setValue("vp",e.getLatLngArg(f));var g=e.getURL(true);u.writeURL(g);if(!this.sender){this.sender=document.createElement("img");this.sender.style.position="absolute";this.sender.style.visibility="hidden";this.sender.style.top=n(-10);this.sender.style.left=n(-10);this.sender.style.width=n(1);this.sender.style.height=n(1);document.body.appendChild(this.sender)}this.sender.src=g}}

// Copyright 2005 Google
function Q(a,b,c,d){this.src=a;this.container=d;this.disabled=false;this.dragPoint=new p(0,0);this.dragging=false;this.clickStartPos=new p(0,0);this.src.style.position="absolute";this.moveTo(b!=null?b:a.offsetLeft,c!=null?c:a.offsetTop);this.mouseDownHandler=k.createAdapter(this,this.onMouseDown);this.mouseMoveHandler=k.createAdapter(this,this.onMouseMove);this.mouseUpHandler=k.createAdapter(this,this.onMouseUp);if(v.type==2){k.bindDom(window,"mouseout",this,this.onWindowMouseOut)}this.eventSrc=this.src.setCapture?this.src:window;k.addBuiltInListener(this.src,"mousedown",this.mouseDownHandler)}
Q.prototype.moveTo=function(a,b){if(this.left!=a||this.top!=b){this.left=a;this.top=b;this.src.style.left=this.left+"px";this.src.style.top=this.top+"px";k.trigger(this,"move")}}
;Q.prototype.onMouseDown=function(a){k.trigger(this,"mousedown");if(a.cancelDrag){return}var b=a.button==0||a.button==1;if(this.disabled||!b){A(a);return false}this.dragPoint.x=a.clientX;this.dragPoint.y=a.clientY;this.dragging=true;k.addBuiltInListener(this.eventSrc,"mousemove",this.mouseMoveHandler);k.addBuiltInListener(this.eventSrc,"mouseup",this.mouseUpHandler);if(this.src.setCapture){this.src.setCapture()}this.clickStartTime=(new Date()).getTime();this.clickStartPos.x=a.clientX;this.clickStartPos.y=a.clientY;k.trigger(this,"dragstart");this.originalCursor=this.src.style.cursor;C(this.src,"move");A(a)}
;Q.prototype.onMouseMove=function(a){fnSetLatLon(myMapApp.map.getCenterLatLng());if(v.os==1){if(a==null){return}if(this.dragDisabled){this.savedMove=new Object();this.savedMove.clientX=a.clientX;this.savedMove.clientY=a.clientY;return}ea(this,function(){this.dragDisabled=false;this.onMouseMove(this.savedMove)}
,30);this.dragDisabled=true;this.savedMove=null}var b=this.left+(a.clientX-this.dragPoint.x);var c=this.top+(a.clientY-this.dragPoint.y);var d=0;var e=0;if(this.container){var f=b;if(b<this.container.minX){f=this.container.minX}else{var g=this.container.maxX-this.src.offsetWidth;if(b>g){f=g}}d=f-b;b=f;var h=c;if(c<this.container.minY){h=this.container.minY}else{var i=this.container.maxY-this.src.offsetHeight;if(c>i)h=i}e=h-c;c=h}this.moveTo(b,c);this.dragPoint.x=a.clientX+d;this.dragPoint.y=a.clientY+e;k.trigger(this,"drag")}
;Q.prototype.onMouseUp=function(a){k.removeBuiltInListener(this.eventSrc,"mousemove",this.mouseMoveHandler);k.removeBuiltInListener(this.eventSrc,"mouseup",this.mouseUpHandler);this.dragging=false;C(this.src,this.originalCursor);if(document.releaseCapture){document.releaseCapture()}k.trigger(this,"dragend");var b=(new Date()).getTime();if(b-this.clickStartTime<=500&&(Math.abs(this.clickStartPos.x-a.clientX)<=2&&Math.abs(this.clickStartPos.y-a.clientY)<=2)){k.trigger(this,"click")}}
;Q.prototype.onWindowMouseOut=function(a){if(!a.relatedTarget&&this.dragging){this.onMouseUp(a)}}
;Q.prototype.disable=function(){this.disabled=true}
;Q.prototype.enable=function(){this.disabled=false}

// Copyright 2005 Google
function oa(a,b,c,d,e,f,g,h,i,l,m,o,r,w,E){this.query=a;this.title=b;this.error=c;this.spelling=d;this.refinements=e;this.center=f;this.viewSpan=g;this.searchCenter=h;this.searchSpan=i;this.ads=l;this.area=m;this.overlays=o;this.directions=r;this.debug=w;this.xml=E}
function ma(a,b,c){this.locations=a;this.panelStyle=b;this.xml=c}
function ka(a,b,c,d,e){this.point=a;this.icon=b;this.id=c;this.infoStyle=d;this.xml=e}
function ia(a,b){this.image=a;this.iconClass=b}
function ga(a,b,c){this.polyline=a;this.segments=b;this.xml=c}
function Da(a,b,c){this.id=a;this.description=b;this.pointIndex=c}
function D(a,b,c,d,e,f,g,h,i){this.name=a;this.width=b;this.height=c;this.pointCoord=d;this.infoTipCoord=e;this.shadowTipCoord=f;this.shadowURL=g;this.shadowWidth=h;this.imageMapArray=i||[]}
D.prototype.translateImageMapArray=function(a,b){var c=[];var d=this.imageMapArray;for(var e=0;e<d.length;e+=2){c.push(d[e]+a);c.push(d[e+1]+b)}return c}
;D.classes={};D.classNames=[];D.getPadding=function(){var a={"top":0,"left":0,"bottom":0,"right":0};for(var b=0;b<this.classNames.length;++b){var c=this.classes[this.classNames[b]];a.top=Math.max(a.top,c.pointCoord.y);a.bottom=Math.max(a.bottom,c.height-c.pointCoord.y);a.left=Math.max(a.left,c.pointCoord.x);a.right=Math.max(a.right,c.width-c.pointCoord.x)}return a}
;D.load=function(a){D.classes[a.name]=a;D.classNames.push(a.name)}
;D.get=function(a){return D.classes[a]}
;var ec=[9,0,6,1,4,2,2,4,0,8,0,12,1,14,2,16,5,19,7,23,8,26,9,30,9,34,11,34,11,30,12,26,13,24,14,21,16,18,18,16,20,12,20,8,18,4,16,2,15,1,13,0];D.load(new D("local",20,34,new p(9,34),new p(9,2),new p(17,23),s+"shadow50.png",37,ec));D.load(new D("noicon",0,0,new p(0,0),new p(0,0),new p(0,0),null,0,null));oa.loadFromXML=function(a){var b=null;var c=a.getElementsByTagName("query");if(c.length>0){b=Z(c[0])}var d=null;var e=a.getElementsByTagName("title");if(e.length>0){d=Z(e[0])}var f=null;var g=a.getElementsByTagName("error");if(g.length>0){f=g[0]}var h=null;var i=a.getElementsByTagName("spelling");if(i.length>0){h=i[0]}var l=null;var m=a.getElementsByTagName("refinements");if(m.length>0){l=m[0]}var o=null;var r=a.getElementsByTagName("center");if(r.length>0){o=new p(parseFloat(r[0].getAttribute("lng")),parseFloat(r[0].getAttribute("lat")))}var w=null;var E=a.getElementsByTagName("span");if(E.length>0){w=new G(parseFloat(E[0].getAttribute("lng")),parseFloat(E[0].getAttribute("lat")))}var La=null;var za=a.getElementsByTagName("searchcenter");if(za.length>0){La=new p(parseFloat(za[0].getAttribute("lng")),parseFloat(za[0].getAttribute("lat")))}var Ma=null;var Aa=a.getElementsByTagName("searchspan");if(Aa.length>0){Ma=new G(parseFloat(Aa[0].getAttribute("lng")),parseFloat(Aa[0].getAttribute("lat")))}var Na=new Array();var Oa=a.getElementsByTagName("overlay");for(var Ba=0;Ba<Oa.length;Ba++){Na.push(ma.loadFromXML(Oa[Ba]))}var Pa=null;var Qa=a.getElementsByTagName("directions");if(Qa.length>0){Pa=ga.loadFromXML(Qa[0])}var Ra=null;var Sa=a.getElementsByTagName("debug");if(Sa.length>0){Ra=ic(Sa[0])}return new oa(b,d,f,h,l,o,w,La,Ma,null,null,Na,Pa,Ra,a)}
;ma.loadFromXML=function(a){var b=new Array();var c=a.getElementsByTagName("location");for(var d=0;d<c.length;d++){b.push(ka.loadFromXML(c[d]))}return new ma(b,a.getAttribute("panelStyle"),a)}
;ma.prototype.getLocationById=function(a){for(var b=0;b<this.locations.length;b++){if(this.locations[b].id==a)return this.locations[b]}return null}
;ka.loadFromXML=function(a){var b=a.getElementsByTagName("point")[0];var c=new p(parseFloat(b.getAttribute("lng")),parseFloat(b.getAttribute("lat")));var d=a.getElementsByTagName("icon")[0];var e=ia.loadFromXML(d);return new ka(c,e,a.getAttribute("id"),a.getAttribute("infoStyle"),a)}
;ia.loadFromXML=function(a){var b=D.get(a.getAttribute("class"));if(b){return new ia(a.getAttribute("image"),b)}else{return null}}
;ga.loadFromXML=function(a){var b=a.getElementsByTagName("polyline")[0];var c=Z(b.getElementsByTagName("points")[0]);var d=Z(b.getElementsByTagName("levels")[0]);var e=parseInt(b.getAttribute("numLevels"));var f=parseInt(b.getAttribute("zoomFactor"));var g=new X(c,d,e,f);var h=new Array();var i=a.getElementsByTagName("segments")[0];var l=i.getElementsByTagName("segment");for(var m=0;m<l.length;++m){h.push(Da.loadFromXML(l[m]))}return new ga(g,h,a)}
;ga.prototype.getSegmentById=function(a){for(var b=0;b<this.segments.length;b++){if(this.segments[b].id==a)return this.segments[b]}return null}
;Da.loadFromXML=function(a){var b=a.getAttribute("id");var c=parseInt(a.getAttribute("pointIndex"));var d=Z(a);return new Da(b,d,c)}
;function Z(a){if(!a){return""}if(typeof a.text!="undefined"){return a.text}if(a.nodeType==3||a.nodeType==4){return a.nodeValue}var b="";if(a.nodeType==1){for(var c=a.firstChild;c!=null;c=c.nextSibling){b+=Z(c)}}return b}

// Copyright 2005 Google
var vb=s+"iws_nw.png";var tb=s+"iws_n.png";var ub=s+"iws_ne.png";var sb=s+"iws_e.png";var rb=s+"iws_c.png";var zb=s+"iws_w.png";var yb=s+"iws_sw.png";var Ka=s+"iws_s.png";var xb=s+"iws_se.png";var wb=s+"iws_tap.png";var ob=s+"iw_nw.png";var mb=s+"iw_n.png";var nb=s+"iw_ne.png";var lb=s+"iw_e.png";var jb=s+"iw_c.png";var Bb=s+"iw_w.png";var Ab=s+"iw_sw.png";var Ja=s+"iw_s.png";var qb=s+"iw_se.png";var pb=s+"iw_tap.png";function y(a,b,c){this.createWindow(b);this.createShadow(c);if(v.type!=1){this.createMask()}else{this.maskPng=null}this.createContentArea();this.createCloseButton();a.appendChild(this.windowDiv);a.appendChild(this.shadowDiv);this.setSize(208,69);this.hide()}
y.prototype.setContentSize=function(a,b){this.setSize(a-(this.window.w.width-15)*2,b-(this.window.n.height-15)*2)}
;y.prototype.setSize=function(a,b){if(a<0)a=0;if(b<0)b=0;this.width=a;this.height=b;this.setWindowSize(a,b);this.setShadowSize(a,b);if(this.hasMask()){this.setMaskSize()}this.closeButton.style.left=this.getTotalWidth()-this.closeButton.width-10-1+"px";this.closeButton.style.top="10px"}
;y.prototype.getWindowHeight=function(){return this.window.c.height+2*this.window.n.height}
;y.prototype.getTotalHeight=function(){return this.height+this.window.pointer.height+this.window.n.height}
;y.prototype.getTotalHeightAboveGround=function(){return this.getTotalHeight()+this.location.icon.iconClass.pointCoord.y-this.location.icon.iconClass.infoTipCoord.y}
;y.prototype.getTotalShadowHeight=function(){return Math.floor(this.height/4)+this.shadow.pointer.height+this.shadow.nw.height}
;y.prototype.getTotalWidth=function(){return this.width+this.window.w.width+this.window.e.width}
;y.prototype.getOffsetLeft=function(){return this.windowDiv.offsetLeft}
;y.prototype.getOffsetTop=function(){return this.windowDiv.offsetTop}
;y.prototype.setWindowSize=function(a,b){this.window.n.style.width=a+"px";this.window.e.style.height=b+"px";this.window.c.style.width=a+"px";this.window.c.style.height=b+"px";this.window.w.style.height=b+"px";var c=this.calculatePointerOffset(a);this.window.s1.style.width=c+"px";this.window.pointer.style.left=c+this.window.sw.width+"px";this.window.s2.style.left=c+this.window.pointer.width+this.window.sw.width+"px";this.window.s2.style.width=a-c-this.window.pointer.width+"px";var d=a+this.window.w.width+"px";this.window.ne.style.left=d;this.window.e.style.left=d;this.window.se.style.left=d;var e=b+this.window.n.height+"px";this.window.sw.style.top=e;this.window.s1.style.top=e;this.window.pointer.style.top=e;this.window.s2.style.top=e;this.window.se.style.top=e}
;y.prototype.setShadowSize=function(a,b){a-=15;var c=Math.floor(b/4);var d=a+this.shadow.nw.width;var e=this.calculatePointerOffset(a)-41;var f=c+this.shadow.n.height+"px";var g=c+this.shadow.nw.height;this.shadow.s1Div.style.width=Math.max(e,0)+"px";this.shadow.pointer.style.left=e+this.shadow.sw.width+"px";this.shadow.s2Div.style.left=e+this.shadow.pointer.width+this.shadow.sw.width+"px";this.shadow.s2Div.style.width=a-e-this.shadow.pointer.width+"px";this.shadow.sw.style.top=f;this.shadow.s1Div.style.top=f;this.shadow.pointer.style.top=f;this.shadow.s2Div.style.top=f;this.shadow.se.style.top=f;this.shadow.se.style.left=d+"px";var h=this.shadow.nw.height;var i=Math.floor(b/2);this.shadow.wDiv.style.height=c+"px";this.shadow.wDiv.style.left=h+"px";this.shadow.wDiv.style.width=i+"px";this.shadow.w.style.left=c-this.shadow.w.width+80+"px";var l=this.shadow.nw.height+a+70;this.shadow.eDiv.style.height=c+"px";this.shadow.eDiv.style.left=l+"px";this.shadow.eDiv.style.width=b+"px";this.shadow.e.style.left=c-this.shadow.w.width+80+"px";var m=h+i;this.shadow.cDiv.style.width=l-m+"px";this.shadow.cDiv.style.height=c+"px";this.shadow.cDiv.style.left=m+"px";this.shadow.nw.style.left=g+"px";this.shadow.nDiv.style.width=a-30+"px";this.shadow.nDiv.style.left=g+this.shadow.nw.width+"px";this.shadow.ne.style.left=d+g-30+"px"}
;y.prototype.setMaskSize=function(){this.maskPng.style.width=this.getTotalWidth()+"px";this.maskPng.style.height=this.getTotalHeight()+"px";var a=this.getTotalWidth();var b=this.getWindowHeight();var c=this.getTotalHeight();var d=this.window.pointer.offsetLeft;var e=d+this.window.pointer.width;var f=d+53;var g=d+4;var h=",";var i=this.getMaskMap();var l=i.firstChild;l.setAttribute("coords","0,0,0,"+b+h+f+h+b+h+g+h+c+h+e+h+b+h+a+h+b+h+a+",0")}
;y.prototype.hide=function(){if(this.windowDiv)this.windowDiv.style.display="none";this.shadowDiv.style.display="none"}
;y.prototype.show=function(){this.windowDiv.style.display="";this.shadowDiv.style.display="";this.windowDiv.style.visibility="visible";this.shadowDiv.style.visibility="visible";this.contentArea.style.visibility="visible"}
;y.prototype.isVisible=function(){return this.windowDiv&&this.windowDiv.style.display!="none"}
;y.prototype.positionAt=function(a,b,c){var d=this.calculatePointerOffset(this.width)+this.window.w.width+5;var e=this.height+this.window.n.height+this.window.s1.height;this.left=a-d;this.top=b-e;this.left+=c.infoTipCoord.x-c.pointCoord.x;this.top+=c.infoTipCoord.y-c.pointCoord.y;this.windowDiv.style.left=this.left+"px";this.windowDiv.style.top=this.top+"px";var f=0;var g=this.getTotalHeight()-this.getTotalShadowHeight();f+=c.shadowTipCoord.x-c.infoTipCoord.x;g+=c.shadowTipCoord.y-c.infoTipCoord.y;this.shadowDiv.style.left=this.left+f+"px";this.shadowDiv.style.top=this.top+g+"px"}
;y.prototype.calculatePointerOffset=function(a){return Math.floor(a/4)}
;y.prototype.createCroppingDiv=function(a){var b=window.document.createElement("div");b.style.overflow="hidden";b.style.position="absolute";b.style.width=a.width+"px";b.style.height=a.height+"px";b.style.left=a.style.left;b.style.top=a.style.top;b.style.zIndex=a.style.zIndex;a.style.left="0px";a.style.top="0px";b.appendChild(a);return b}
;y.prototype.createWindow=function(a){this.window=new Object();this.window.nw=t.create(ob,25,25,0,0,0,false);this.window.n=t.create(mb,640,25,this.window.nw.width,0,0,true);this.window.ne=t.create(nb,25,25,0,0,0,false);this.window.w=t.create(Bb,25,640,0,this.window.nw.height,0,true);this.window.c=t.create(jb,640,640,this.window.w.width,this.window.n.height,0,true);this.window.e=t.create(lb,25,640,0,this.window.ne.height,0,true);this.window.sw=t.create(Ab,25,96,0,0,0,false);this.window.s1=t.create(Ja,640,96,this.window.sw.width,0,0,true);this.window.pointer=t.create(pb,98,96,0,0,0,false);this.window.s2=t.create(Ja,640,96,0,0,0,true);this.window.se=t.create(qb,25,96,0,0,0,false);this.window.nw.onmousedown=this.onMouseDown;this.window.n.onmousedown=this.onMouseDown;this.window.ne.onmousedown=this.onMouseDown;this.window.w.onmousedown=this.onMouseDown;this.window.c.onmousedown=this.onMouseDown;this.window.e.onmousedown=this.onMouseDown;this.window.sw.onmousedown=this.onMouseDown;this.window.s1.onmousedown=this.onMouseDown;this.window.pointer.onmousedown=this.onMouseDown;this.window.s2.onmousedown=this.onMouseDown;this.window.se.onmousedown=this.onMouseDown;this.windowDiv=window.document.createElement("div");this.windowDiv.style.position="absolute";this.windowDiv.style.left="0px";this.windowDiv.style.top="0px";this.windowDiv.style.zIndex=a;Y(this.windowDiv,"noprint");this.windowDiv.appendChild(this.window.nw);this.windowDiv.appendChild(this.window.n);this.windowDiv.appendChild(this.window.ne);this.windowDiv.appendChild(this.window.w);this.windowDiv.appendChild(this.window.c);this.windowDiv.appendChild(this.window.e);this.windowDiv.appendChild(this.window.sw);this.windowDiv.appendChild(this.window.s1);this.windowDiv.appendChild(this.window.pointer);this.windowDiv.appendChild(this.window.s2);this.windowDiv.appendChild(this.window.se)}
;y.prototype.createShadow=function(a){this.shadow=new Object();this.shadow.nw=t.create(vb,70,30,0,0,0,false);this.shadow.n=t.create(tb,640,30,this.shadow.nw.width,0,0,false);this.shadow.ne=t.create(ub,70,30,0,0,0,false);this.shadow.w=t.create(zb,360,280,0,this.shadow.nw.height,0,false);this.shadow.c=t.create(rb,640,640,this.shadow.w.width,this.shadow.n.height,0,false);this.shadow.e=t.create(sb,360,280,0,this.shadow.ne.height,0,false);this.shadow.sw=t.create(yb,70,60,0,0,0,false);this.shadow.s1=t.create(Ka,320,60,this.shadow.sw.width,0,0,false);this.shadow.pointer=t.create(wb,140,60,0,0,0,false);this.shadow.s2=t.create(Ka,320,60,0,0,0,false);this.shadow.se=t.create(xb,70,60,0,0,0,false);this.shadow.nDiv=this.createCroppingDiv(this.shadow.n);this.shadow.wDiv=this.createCroppingDiv(this.shadow.w);this.shadow.eDiv=this.createCroppingDiv(this.shadow.e);this.shadow.s1Div=this.createCroppingDiv(this.shadow.s1);this.shadow.s2Div=this.createCroppingDiv(this.shadow.s2);this.shadow.cDiv=this.createCroppingDiv(this.shadow.c);this.shadowDiv=window.document.createElement("div");this.shadowDiv.style.position="absolute";this.shadowDiv.style.left="0px";this.shadowDiv.style.top="0px";this.shadowDiv.style.zIndex=0;this.shadowDiv.style.zIndex=a;Y(this.shadowDiv,"noprint");this.shadowDiv.appendChild(this.shadow.nw);this.shadowDiv.appendChild(this.shadow.nDiv);this.shadowDiv.appendChild(this.shadow.ne);this.shadowDiv.appendChild(this.shadow.wDiv);this.shadowDiv.appendChild(this.shadow.cDiv);this.shadowDiv.appendChild(this.shadow.eDiv);this.shadowDiv.appendChild(this.shadow.sw);this.shadowDiv.appendChild(this.shadow.s1Div);this.shadowDiv.appendChild(this.shadow.pointer);this.shadowDiv.appendChild(this.shadow.s2Div);this.shadowDiv.appendChild(this.shadow.se)}
;y.prototype.hasMask=function(){return this.maskPng!=null}
;y.prototype.getMaskMap=function(){return document.getElementById(this.maskMapId)}
;var dc=s+"transparent.gif";var ab=0;y.prototype.createMask=function(){var a=document.createElement("map");this.maskMapId="iwMap"+ab;a.setAttribute("id",this.maskMapId);a.setAttribute("name",this.maskMapId);ab++;this.windowDiv.appendChild(a);var b=document.createElement("area");b.setAttribute("shape","poly");b.setAttribute("coords","");b.setAttribute("href","");b.onclick=fa;b.onmousedown=this.onmousedown;a.appendChild(b);for(var c=0;c<10;c++){var b=document.createElement("area");b.setAttribute("shape","poly");b.setAttribute("coords","");b.setAttribute("href","javascript:void(0)");b.onclick=fa;a.appendChild(b)}this.maskPng=t.create(dc,0,0,0,0,0,false);this.windowDiv.appendChild(this.maskPng);this.maskPng.setAttribute("usemap","#"+this.maskMapId);this.nextMaskArea=1}
;y.prototype.addAreaToMaskMap=function(a,b){if(this.hasMask()){var c=this.getMaskMap();if(this.nextMaskArea<c.childNodes.length){var d=c.childNodes[this.nextMaskArea];d.setAttribute("coords",a.join(","));d.onmousedown=b;this.nextMaskArea++}}}
;y.prototype.clearMaskMap=function(){if(this.hasMask()){var a=this.getMaskMap();for(var b=1;b<a.childNodes.length;b++){var c=a.childNodes[b];c.setAttribute("coords","");c.onmousedown=null}this.nextMaskArea=1}}
;y.prototype.getMaskLeft=function(){return this.windowDiv.offsetLeft}
;y.prototype.getMaskTop=function(){return this.windowDiv.offsetTop}
;y.prototype.createContentArea=function(){var a=window.document.createElement("DIV");a.style.position="absolute";a.style.left="15px";a.style.top="15px";a.style.zIndex=3;C(a,"auto");a.onmousedown=this.onMouseDown;this.windowDiv.appendChild(a);this.contentArea=a;this.contentArea.onmousedown=this.onMouseDown;a=window.document.createElement("DIV");a.style.position="absolute";a.style.left=n(-screen.width);a.style.top=n(-screen.height);a.style.width=n(screen.width);a.style.height=n(screen.height);a.style.visibility="hidden";this.offscreenContainer=a;window.document.body.appendChild(a);a=window.document.createElement("DIV");a.style.position="absolute";a.style.left="15px";a.style.top="15px";a.style.zIndex=3;C(a,"auto");this.offscreenArea=a;this.offscreenArea.onmousedown=this.onMouseDown;this.offscreenContainer.appendChild(this.offscreenArea)}
;y.prototype.prepareOffscreen=function(a){if(this.windowDiv.style.display=="none"){this.windowDiv.style.display="";this.shadowDiv.style.display="";this.windowDiv.style.visibility="hidden";this.shadowDiv.style.visibility="hidden";this.contentArea.style.visibility="hidden";this.offscreenArea.style.visibility="hidden"}if(a){this.offscreenContainer.style.width=n(a)}}
;y.prototype.clearOffscreenArea=function(){qc(this.offscreenArea)}
;y.prototype.flipOffscreenAndSize=function(){var a=Math.max(this.offscreenArea.offsetWidth,200);var b=Math.max(this.offscreenArea.offsetHeight,85);this.flipOffscreenArea(a,b);this.setContentSize(a,b)}
;y.prototype.sizeToContent=function(){this.setContentSize(Math.max(this.contentArea.offsetWidth,183),this.contentArea.offsetHeight)}
;y.prototype.flipOffscreenArea=function(a,b){this.offscreenContainer.removeChild(this.offscreenArea);this.windowDiv.removeChild(this.contentArea);var c=this.offscreenArea;this.offscreenArea=this.contentArea;this.contentArea=c;this.offscreenContainer.appendChild(this.offscreenArea);this.windowDiv.appendChild(this.contentArea);if(a&&b){this.contentArea.style.width=n(a);this.contentArea.style.height=n(b)}this.offscreenArea.style.width="auto";this.offscreenArea.style.height="auto";this.contentArea.style.visibility="visible";this.clearOffscreenArea()}
;y.prototype.onMouseDown=function(a){if(v.type==1){window.event.cancelBubble=true}else{a.cancelDrag=true}}
;var kb=s+"close.gif";y.prototype.createCloseButton=function(){this.closeButton=W.create(kb,14,13,null,null,4,null,null);this.closeButton.style.position="absolute";C(this.closeButton,"pointer");k.bindDom(this.closeButton,"mousedown",this,this.onCloseMouseDown);this.windowDiv.appendChild(this.closeButton)}
;y.prototype.onCloseMouseDown=function(a){A(a);k.trigger(this,"closeclick")}

// Copyright 2005 Google
function U(a,b,c){this.maxZoomLevel=a;this.bounds=b;this.text=c}
function S(a,b){this.spec=a;this.zoomLevels=[];for(var c=0;c<this.spec.numZoomLevels;c++){this.zoomLevels.push([])}if(b){for(var c=0;c<b.length;c++){this.zoomLevels[b[c].maxZoomLevel].push(b[c])}this.sort()}}
S.fromCompact=function(a,b){var c=[];for(var d=0;d<b.length;d++){var e=b[d];var f=new z(e[1],e[2],e[3],e[4]);c.push(new U(e[0],f,e[5]))}return new S(a,c)}
;S.prototype.addCopyright=function(a){this.zoomLevels[a.maxZoomLevel].push(a);this.sort(a.maxZoomLevel)}
;S.prototype.sort=function(a){var b=function(d,e){return d.bounds.minX-e.bounds.minX}
;if(a||a==0){this.zoomLevels[a].sort(b);return}for(var c=0;c<this.zoomLevels.length;c++){this.zoomLevels[c].sort(b)}}
;S.prototype.getCopyrights=function(a,b){var c={};u.write(a);for(var d=b;d<this.zoomLevels.length;d++){var e=this.zoomLevels[d];var f=false;for(var g=0;g<e.length;g++){var h=e[g];if(h.bounds.minX>a.maxX){break}if(h.bounds.intersectsLatLng(a)){if(h.text){c[h.text]=1}if(h.bounds.containsBounds(a)){f=true}}}if(f){break}}var i=[];for(var d in c){i.push(d)}return i}

// Copyright 2005 Google
var la=_mNavteq;var Eb=_mTeleAtlas;var Ta=[new U(14,new z(-125.241,22.031,-62.71,49.093),la),new U(14,new z(-141.157,41.468,-50.844,83.656),la),new U(14,new z(-67.277,17.88,-65.175,18.523),la),new U(14,new z(-180,51.078,-129.756,71.484),la),new U(14,new z(-10.649,49.781,2.593,59.687),Eb)]
// Copyright 2005 Google
var ha=new p(-98.35,39.5);var hb=s+"transparent.gif";var ib=s+"water.gif";var xa=[131072,65536,32768,16384,8192,4096,2048,1024,512,256,128,64,32,16,8];function L(a,b){this.tileSize=128;this.backgroundColor="#f2efe9";this.emptyTileUrl=hb;this.waterTileUrl=ib;this.baseUrl=B.getTileBaseUrl(a,"http://mt.google.com/mt",b);this.numZoomLevels=xa.length;this.pixelsPerDegree=[];for(var c=0;c<this.numZoomLevels;c++){var d=xa[c];this.pixelsPerDegree.push(new p(d*0.77162458338772,d))}this.mapBounds=[];for(var c=0;c<9;c++){this.mapBounds.push(new z(-I,-I,I,I))}for(var c=9;c<this.pixelsPerDegree.length;c++){var e=this.getTileCoordinate(85,-179.5,c);var f=this.getTileCoordinate(12,-50,c);this.mapBounds.push(new z(e.x,e.y,f.x,f.y))}this.ukBounds=[];for(var c=0;c<this.pixelsPerDegree.length;c++){var e=this.getTileCoordinate(61.04,-10.71,c);var f=this.getTileCoordinate(49.77,1.84,c);this.ukBounds.push(new z(e.x,e.y,f.x,f.y))}this.earthBounds=[];for(var c=0;c<this.pixelsPerDegree.length;c++){var e=this.getTileCoordinate(90,-180,c);var f=this.getTileCoordinate(-90,180,c);this.earthBounds.push(new z(e.x,e.y,f.x,f.y))}}
L.prototype.adjustBitmapX=function(a,b){var c=Math.floor(360*this.pixelsPerDegree[b].x);var d=-(c>>1);var e=d+c;while(a<d){a+=c}while(a>=e){a-=c}return a}
;L.prototype.getBitmapCoordinate=function(a,b,c,d){if(!d)d=new p(0,0);var e=b-ha.x;e-=Math.floor((e+180)/360)*360;var f=ha.y-a;d.x=Math.floor(e*this.pixelsPerDegree[c].x);d.y=Math.floor(f*this.pixelsPerDegree[c].y);return d}
;L.prototype.getLatLng=function(a,b,c,d){if(!d)d=new p(0,0);d.x=a/this.pixelsPerDegree[c].x+ha.x;d.y=ha.y-b/this.pixelsPerDegree[c].y;while(d.x<-180)d.x+=360;while(d.x>180)d.x-=360;return d}
;L.prototype.getTileCoordinate=function(a,b,c){var d=this.getBitmapCoordinate(a,b,c);d.x=Math.floor(d.x/this.tileSize);d.y=Math.floor(d.y/this.tileSize);return d}
;L.prototype.getTileURL=function(a,b,c){var d=this.earthBounds[c];if(b<=d.minY||b>=d.maxY){return this.emptyTileUrl}var e=this.mapBounds[c];var f=this.ukBounds[c];if((a<e.minX||(a>e.maxX||(b<e.minY||b>e.maxY)))&&(a<f.minX||(a>f.maxX||(b<f.minY||b>f.maxY)))){return this.waterTileUrl}return this.baseUrl+"x="+a+"&y="+b+"&zoom="+c}
;L.prototype.getLowestZoomLevel=function(a,b,c){var d=c.width+4;var e=c.height+4;for(var f=0;f<this.pixelsPerDegree.length;f++){if(this.pixelsPerDegree[f].x*b.width<=d&&this.pixelsPerDegree[f].y*b.height<=e){return f}}return this.pixelsPerDegree.length-1}
;L.prototype.getPixelsPerDegree=function(a){return this.pixelsPerDegree[a]}
;L.prototype.getLinkText=function(){return _mNormalMap}
;L.prototype.getURLArg=function(){return null}
;L.prototype.getCopyright=function(a){if(!this.copyrights){this.copyrights=new S(this,Ta)}if(a.isLoaded()){var b=this.copyrights.getCopyrights(a.getBoundsLatLng(),a.zoomLevel);if(b.length==0){return""}else{return _mDataCopy+b.join(", ")}}else{return""}}
;L.prototype.zoomBitmapCoord=function(a,b,c){var d=new p();var e=Math.pow(2,b-a);d.x=Math.round(c.x*e);d.y=Math.round(c.y*e);return d}

// Copyright 2005 Google
var $b=s+"transparent.gif";var ac=s+"water.gif";function M(a,b){this.tileSize=256;this.backgroundColor="#e5e3df";this.emptyTileUrl=$b;this.waterTileUrl=ac;this.numZoomLevels=18;this.baseUrl=B.getTileBaseUrl(a,"http://mt.google.com/mt",b);this.pixelsPerLonDegree=[];this.pixelsPerLonRadian=[];this.bitmapOrigo=[];this.numTiles=[];var c=256;for(var d=17;d>=0;--d){this.pixelsPerLonDegree[d]=c/360;this.pixelsPerLonRadian[d]=c/bc;var e=c/2;this.bitmapOrigo[d]=new p(e,e);this.numTiles[d]=c/256;c*=2}}
M.prototype.adjustBitmapX=function(a,b){var c=Math.floor(360*this.pixelsPerLonDegree[b]);var d=0;var e=d+c;while(a<d){a+=c}while(a>=e){a-=c}return a}
;M.prototype.getBitmapCoordinate=function(a,b,c,d){if(!d){d=new p(0,0)}d.x=Math.floor(this.bitmapOrigo[c].x+b*this.pixelsPerLonDegree[c]);var e=Math.sin(a*Wa);if(e>0.9999){e=0.9999}if(e<-0.9999){e=-0.9999}d.y=Math.floor(this.bitmapOrigo[c].y+0.5*Math.log((1+e)/(1-e))*-this.pixelsPerLonRadian[c]);return d}
;M.prototype.getLatLng=function(a,b,c,d){if(!d){d=new p(0,0)}d.x=(a-this.bitmapOrigo[c].x)/this.pixelsPerLonDegree[c];var e=(b-this.bitmapOrigo[c].y)/-this.pixelsPerLonRadian[c];d.y=(2*Math.atan(Math.exp(e))-Math.PI/2)/Wa;return d}
;M.prototype.getTileCoordinate=function(a,b,c){var d=this.getBitmapCoordinate(a,b,c);d.x=Math.floor(d.x/this.tileSize);d.y=Math.floor(d.y/this.tileSize);return d}
;M.prototype.getTileURL=function(a,b,c){if(b<0||b>=this.numTiles[c]){return this.emptyTileUrl}var d=a;if(a<0||this.numTiles[c]<=a){d=a%this.numTiles[c];if(d<0){d+=this.numTiles[c]}}return this.baseUrl+"x="+d+"&y="+b+"&zoom="+c}
;M.prototype.getLowestZoomLevel=function(a,b,c){var d=(c.width+4)/2;var e=(c.height+4)/2;for(var f=0;f<this.numZoomLevels;f++){var g=this.getBitmapCoordinate(a.y,a.x,f);var h=this.getLatLng(g.x-d,g.y-e,f);var i=this.getLatLng(g.x+d,g.y+e,f);var l=i.x-h.x;var m=h.y-i.y;if(b.width<=l&&b.height<=m){return f}}return this.numZoomLevels-1}
;M.prototype.getPixelsPerDegree=function(a){return new p(this.pixelsPerLonDegree[a],this.pixelsPerLonDegree[a]*2)}
;M.prototype.getLinkText=function(){return _mNormalMap}
;M.prototype.getURLArg=function(){return null}
;M.prototype.getCopyright=function(a){if(!this.copyrights){this.copyrights=new S(this,Ta)}if(a.isLoaded()){var b=this.copyrights.getCopyrights(a.getBoundsLatLng(),a.zoomLevel);if(b.length==0){return""}else{return _mDataCopy+b.join(", ")}}else{return""}}
;M.prototype.zoomBitmapCoord=function(a,b,c){var d=new p();var e=Math.pow(2,b-a);d.x=Math.round(c.x*e);d.y=Math.round(c.y*e);return d}

// Copyright 2005 Google
var J="State of New Jersey";var N="MassGIS, Commonwealth of Massachusetts EOEA";var q="New York GIS";var ya="The GeoInformation Group";var Cb=[[5,139.55,35.53,139.93,35.82,ya],[5,4.87,52.37,4.9,52.39,ya],[5,28.05,-26.27,28.07,-26.25,ya],[5,-157.9,21.25,-157.78,21.33,"City & County of Honolulu, Hawaii"],[5,-79.14,35.86,-79.06,35.98,"City Of Carborro"],[5,-122.26,37.33,-122.18,37.4,"Town of Portola Valley"],[5,-75.15,41,-74.56,41.37,J],[5,-74.58,41,-73.87,41.32,J],[5,-75.21,40.71,-73.87,41.02,J],[5,-75.23,40.53,-74.56,40.73,J],[5,-74.58,40.53,-74,40.73,J],[5,-75.08,40.25,-74.56,40.55,J],[5,-74.58,40.25,-73.97,40.55,J],[5,-75.15,39.9,-73.99,40.26,J],[5,-75.49,39.72,-74.63,39.92,J],[5,-74.65,39.72,-74.06,39.92,J],[5,-75.57,39.51,-74.79,39.74,J],[5,-74.81,39.52,-74.12,39.74,J],[5,-75.55,39.28,-74.79,39.53,J],[5,-74.81,39.29,-74.24,39.53,J],[5,-75.25,39.13,-74.54,39.3,J],[5,-74.98,38.91,-74.7,39.15,J],[5,-74,42.56,-73.67,42.83,q],[5,-77.97,42.11,-77.91,42.14,q],[5,-76.12,42.01,-75.77,42.22,q],[5,-78.78,42.02,-78.33,42.2,q],[5,-76.98,42.01,-76.76,42.21,q],[5,-75.56,42.49,-75.46,42.59,q],[5,-73.59,44.62,-73.37,44.75,q],[5,-73.81,42.23,-73.75,42.29,q],[5,-76.24,42.56,-76.12,42.66,q],[5,-79.12,42.61,-78.57,43.09,q],[5,-74.13,44.28,-74.08,44.35,q],[5,-74.42,42.98,-74.3,43.08,q],[5,-78.22,42.98,-78.13,43.03,q],[5,-73.81,42.25,-73.78,42.29,q],[5,-75.23,42.99,-75.03,43.13,q],[5,-75.04,42.99,-74.83,43.07,q],[5,-76.06,43.93,-75.72,44.1,q],[5,-77.83,42.54,-77.67,42.82,q],[5,-77.98,43,-77.36,43.34,q],[5,-74.28,42.79,-74.07,42.98,q],[5,-73.78,40.57,-73.4,40.93,q],[5,-79.09,43.01,-78.6,43.28,q],[5,-75.89,42.86,-75.06,43.63,q],[5,-76.39,42.96,-75.92,43.25,q],[5,-77.32,42.83,-76.96,43.02,q],[5,-74.27,41.41,-74.11,41.58,q],[5,-74.13,41.4,-73.95,41.61,q],[5,-74.25,41.29,-74.12,41.36,q],[5,-74.38,41.23,-74.33,41.28,q],[5,-74.36,41.38,-74.3,41.42,q],[5,-74.46,41.4,-74.39,41.49,q],[5,-74.4,41.42,-74.34,41.5,q],[5,-74.73,41.35,-74.66,41.4,q],[5,-78.43,43.2,-78.16,43.26,q],[5,-74.1,42.77,-73.58,43.31,q],[5,-74.31,42.71,-73.79,42.96,q],[5,-74.59,42.62,-74.17,42.8,q],[5,-76.99,42.84,-76.77,42.93,q],[5,-77.16,42.1,-77.02,42.18,q],[5,-77.35,42.32,-77.29,42.36,q],[5,-77.69,42.31,-77.64,42.36,q],[5,-73.5,40.6,-73.27,40.96,q],[5,-73.29,40.62,-73.09,40.98,q],[5,-73.11,40.65,-72.89,40.98,q],[5,-72.91,40.71,-72.65,40.98,q],[5,-72.68,40.79,-72.41,41.1,q],[5,-72.43,40.85,-72.15,41.17,q],[5,-72.17,40.94,-71.84,41.13,q],[5,-72.05,41.25,-71.9,41.31,q],[5,-74.75,41.6,-74.56,41.72,q],[5,-76.29,42.02,-76.1,42.16,q],[5,-73.73,43.39,-73.62,43.58,q],[5,-73.73,43.26,-73.59,43.4,q],[5,-73.64,43.25,-73.53,43.51,q],[6,-71.16,42.35,-71.06,42.41,N],[6,-70.96,41.28,-70.43,41.54,N],[6,-72.07,42.01,-71.34,42.73,N],[6,-71.39,42.37,-70.56,42.91,N],[6,-71.39,42.13,-70.66,42.39,N],[6,-71.39,41.77,-70.49,42.15,N],[6,-71.36,41.46,-70.56,41.81,N],[6,-70.58,41.51,-69.89,41.8,N],[6,-70.27,41.74,-69.9,42.11,N],[6,-70.65,41.53,-70.5,41.86,N],[6,-73.54,41.95,-72.02,42.76,N],[6,-70.34,41.2,-69.91,41.43,N],[5,-102.03,34.99,-101.6,35.39,null],[5,-150.13,60.98,-149.39,61.39,null],[5,-77.1,38.81,-76.17,39.65,null],[5,-87.13,33.24,-86.62,33.63,null],[5,-119.89,38.99,-119.6,39.26,null],[5,-85.53,34.85,-85.24,35.27,null],[5,-88.25,42.22,-88.02,42.63,null],[5,-88.51,41.84,-88.02,42.24,null],[5,-88.51,41.63,-88.01,41.86,null],[5,-88.52,41.24,-88.01,41.65,null],[5,-88.52,42.22,-88.22,42.63,null],[5,-87.89,42.62,-87.76,42.76,null],[5,-88.05,42.23,-87.77,42.63,null],[5,-88.04,41.85,-87.76,42.24,null],[5,-87.79,41.85,-87.58,42.18,null],[5,-88.04,41.63,-87.76,41.86,null],[5,-87.78,41.63,-87.55,41.87,null],[5,-87.57,41.64,-87.38,41.77,null],[5,-88.03,41.43,-87.71,41.65,null],[5,-87.73,41.43,-87.42,41.65,null],[5,-87.42,41.43,-87.11,41.66,null],[5,-88.03,41.24,-87.69,41.46,null],[5,-87.71,41.24,-87.38,41.46,null],[5,-87.4,41.24,-87.11,41.46,null],[5,-87.44,41.43,-87.4,41.66,null],[5,-84.94,38.84,-84.07,39.56,null],[5,-82.19,40.85,-80.96,41.86,null],[5,-105.04,38.68,-104.55,39.14,null],[5,-83.32,39.67,-82.54,40.33,null],[5,-97.41,33.06,-96.35,33.26,null],[5,-97.45,32.94,-96.35,33.12,null],[5,-97.62,32.41,-97.42,33,null],[5,-97.45,32.82,-96.36,33.01,null],[5,-97.45,32.67,-96.36,32.87,null],[5,-97.46,32.51,-96.37,32.72,null],[5,-97.46,32.39,-96.37,32.55,null],[5,-106.64,31.62,-106.24,32.02,null],[5,-120.02,36.61,-119.61,37.01,null],[5,-95.91,29.47,-95.62,30.02,null],[5,-95.67,29.75,-95.27,30.15,null],[5,-95.66,29.45,-95.26,29.77,null],[5,-95.3,29.89,-94.98,30.28,null],[5,-95.29,29.42,-94.86,29.91,null],[5,-81.92,29.82,-81.32,30.7,null],[5,-96.9,40.61,-96.47,41.01,null],[5,-118.93,33.44,-117.46,34.41,null],[5,-102.15,33.36,-101.73,33.77,null],[5,-80.58,25.37,-80.02,27.04,null],[5,-93.82,44.59,-92.81,45.42,null],[5,-121.14,37.48,-120.74,37.89,null],[5,-75.94,39.52,-74.54,40.44,null],[5,-71.65,41.61,-71.22,42.02,null],[5,-79.14,35.86,-78.74,36.13,null],[5,-79.03,35.61,-78.75,35.88,null],[5,-78.77,35.61,-78.48,36.01,null],[5,-120.02,39.57,-119.64,39.73,null],[5,-120.01,39.44,-119.66,39.59,null],[5,-119.88,39.32,-119.67,39.46,null],[5,-119.88,39.2,-119.73,39.33,null],[5,-121.77,38.61,-120.98,39.01,null],[5,-121.63,38.24,-121.11,38.63,null],[5,-117.68,33.72,-116.84,34.28,null],[5,-117.67,32.6,-116.79,33.5,null],[5,-122.63,46.99,-122.35,47.86,null],[5,-122.4,46.99,-121.99,47.43,null],[5,-122.63,46.99,-122.35,47.86,null],[5,-122.63,46.99,-121.98,48.01,null],[5,-122.63,37.77,-121.61,38.25,null],[5,-122.55,37.12,-121.61,37.78,null],[5,-93.88,32.24,-93.48,32.63,null],[5,-121.52,37.86,-121.11,38.14,null],[5,-72.18,41.99,-71.56,42.52,null],[5,-122.53,37.76,-121.86,37.79,null],[5,-105.64,40,-104.92,40.27,null],[5,-104.95,39.18,-104.48,40.08,null],[5,-104.5,39.72,-104.23,39.83,null],[5,-105.52,39.37,-104.94,40.02,null],[5,-105.44,39.15,-105.13,39.38,null],[5,-83.65,42.3,-83.1,42.77,null],[5,-83.65,42.11,-83.11,42.33,null],[5,-83.19,42.25,-82.84,42.76,null],[5,-82.89,42.5,-82.61,42.76,null],[5,-85.39,40.86,-84.96,41.26,null],[5,-97.77,35.23,-97.23,35.76,null],[5,-90.77,38.36,-90.1,38.9,null],[5,-106.89,34.86,-106.37,35.26,null],[5,-84.77,33.92,-83.87,34.15,null],[5,-84.77,33.72,-83.86,33.98,null],[5,-84.76,33.5,-83.86,33.78,null],[5,-84.76,33.35,-83.86,33.56,null],[5,-97.88,30.12,-97.61,30.5,null],[5,-91.26,30.23,-90.86,30.77,null],[5,-81.07,34.99,-80.53,35.51,null],[5,-99.21,32.08,-99.1,32.17,null],[5,-86.76,34.5,-86.5,34.63,null],[5,-86.87,34.62,-86.38,34.88,null],[5,-90.4,32.11,-89.97,32.51,null],[5,-84.27,35.73,-83.74,36.14,null],[5,-86.01,37.99,-85.35,38.51,null],[5,-86.5,32.24,-86.13,32.51,null],[5,-81.64,28.37,-81.11,28.88,null],[5,-123.13,45.24,-122.36,45.76,null],[5,-93.88,32.24,-93.48,32.63,null],[5,-111.13,32,-110.62,32.51,null],[5,-77.07,38.62,-76.73,39.14,null],[5,-77.4,38.61,-77.04,39.13,null],[5,-77.64,38.74,-77.37,39.14,null],[6,-117.07,46.99,-116.14,47.44,null],[6,-114.13,42.52,-112.83,43.82,null],[6,-115.09,43.05,-113.81,44.07,null],[6,-117.07,47.79,-115.98,48.88,null],[6,-117.07,48.37,-115.97,49.01,null],[6,-117.07,43.22,-116.32,43.94,null],[6,-116.32,42.82,-115.44,43.82,null],[6,-116.76,43.66,-116,44.57,null],[6,-115.15,42.53,-114.51,43.26,null],[6,-114.65,42.41,-113.77,42.88,null],[6,-117.07,47.28,-116.26,48,null],[6,-117.07,46.47,-116.28,47.19,null],[6,-116.76,45.87,-115.97,46.5,null],[6,-117.07,45.79,-116.28,46.69,null],[6,-116.58,41.87,-115.7,43.32,null],[6,-115.9,41.91,-114.9,43.01,null],[6,-117.07,41.89,-116.32,43.69,null],[6,-117.07,43.74,-116.32,44.19,null],[6,-116.03,46.82,-114.8,48,null],[6,-116.39,46.87,-115.84,48.13,null],[6,-115.1,41.84,-113.96,42.94,null],[6,-115.66,44.08,-114.61,45.27,null],[6,-116.26,44.08,-115.36,45.26,null],[6,-117.26,44.06,-116.12,44.88,null],[6,-98.64,29.59,-96.48,30.48,null],[6,-99.01,30.33,-96.72,31.14,null],[6,-114.03,41.11,-111.65,42.03,null],[6,-112.26,41.25,-111.24,42.01,null],[6,-111.07,39.37,-109.92,39.88,null],[6,-112.26,40.69,-111.58,41.2,null],[6,-112.52,37.43,-111.23,38.2,null],[6,-112.89,36.93,-111.93,37.57,null],[6,-111.94,40.62,-111.27,41.26,null],[6,-111.51,40.99,-110.83,42,null],[6,-112.32,40.24,-111.48,41.01,null],[6,-111.63,40.43,-110.96,41.19,null],[6,-112.83,39.86,-111.99,40.76,null],[6,-112.2,39.74,-111.2,40.63,null],[6,-111.57,40.25,-111.24,40.75,null],[6,-112.26,41,-111.59,41.51,null],[6,-91.04,47.4,-89.5,48.26,null],[6,-88.15,37.68,-87.57,38.95,null],[6,-87.67,38.94,-86.78,40,null],[6,-87.69,38.06,-86.8,39.01,null],[6,-86.95,38.81,-86.23,39.88,null],[6,-86.92,37.75,-86.24,38.88,null],[6,-86.45,38.87,-85.7,40.01,null],[6,-86.44,37.87,-85.71,38.95,null],[6,-85.9,38.93,-85.24,39.83,null],[6,-85.9,38.06,-85.26,39.03,null],[6,-85.42,39.24,-84.68,40.02,null],[6,-87.58,40.73,-86.86,41.75,null],[6,-87.57,39.5,-86.9,40.82,null],[6,-87.09,40.43,-86.16,41.82,null],[6,-87.07,39.43,-86.17,40.51,null],[6,-86.4,40.42,-85.59,41.83,null],[6,-86.39,39.25,-85.54,40.51,null],[6,-85.73,40.67,-85.1,41.82,null],[6,-85.75,39.32,-85.1,40.76,null],[6,-85.28,40.67,-84.66,41.82,null],[6,-85.28,39.48,-84.67,40.76,null],[6,-95.76,39.75,-94.68,40.65,null],[6,-93.43,37.91,-91.87,39.16,null],[6,-92.13,37.85,-90.58,39.13,null],[6,-90.84,37.79,-89.72,39.12,null],[6,-94.66,37.16,-93.28,38.31,null],[6,-93.5,37.07,-91.98,38.13,null],[6,-92.22,37.08,-90.82,38.07,null],[6,-91.05,36.97,-89.63,38.06,null],[6,-89.97,36.85,-88.98,37.95,null],[6,-94.65,36.35,-93.28,37.34,null],[6,-93.42,36.33,-91.78,37.4,null],[6,-94.88,39.69,-93.67,40.65,null],[6,-90.51,36.27,-89.02,37.24,null],[6,-90.54,36.27,-89.01,37.39,null],[6,-90.39,35.81,-89.14,36.53,null],[6,-93.99,39.64,-92.37,40.64,null],[6,-92.66,39.53,-91.01,40.64,null],[6,-95.19,38.93,-93.78,39.92,null],[6,-94.08,38.88,-92.44,39.91,null],[6,-92.71,38.88,-91.02,39.95,null],[6,-91.27,38.84,-90.37,39.69,null],[6,-94.7,38.01,-93.15,39.11,null],[6,-103.02,36.34,-101.89,37.09,null],[6,-102.15,36.33,-99.96,37.1,null],[6,-95.28,33.51,-94.28,33.88,null],[7,-180,-90,180,90,"DigitalGlobe"],[12,-180,-90,180,90,"EarthSat"]]
// Copyright 2005 Google
var ja=new p(-180,180);var Db=s+"transparent.gif";function K(a,b,c,d,e){this.tileSize=256;this.backgroundColor=d?"#e5e3df":"#f2efe9";this.emptyTileUrl=Db;this.numZoomLevels=d?18:15;this.pixelsPerDegree=[];for(var f=0;f<this.numZoomLevels;f++){var g=Math.pow(2,26-f-1)/360;this.pixelsPerDegree.push(new p(g,g))}this.earthBounds=[];for(var f=0;f<this.pixelsPerDegree.length;++f){var h=this.getTileCoordinate(90,-180,f);var i=this.getTileCoordinate(-90,180,f);if(f>=16){i.y+=1}this.earthBounds.push(new z(h.x,h.y,i.x,i.y))}var l;if(b){l="http://kh."+b+"/kh"}else{l="http://kh.google.com/kh?"}this.baseUrl=B.getTileBaseUrl(a,l,c);if(e){if(b&&this.testCookie(b)){document.cookie="khcookie="+e+"; domain=."+b+"; path=/kh;"}else{this.baseUrl+="cookie="+e+"&"}}this.isNew=true}
K.prototype.testCookie=function(a){try{document.cookie="testcookie=1; domain=."+a;var b=document.cookie.indexOf("testcookie")!=-1;if(b){document.cookie="testcookie=; domain=."+a+"; expires=Thu, 01-Jan-70 00:00:01 GMT"}return b}catch(c){u.dump(c)}return false}
;K.prototype.adjustBitmapX=function(a,b){var c=180*this.pixelsPerDegree[b].x;while(a<-c){a+=2*c}while(a>=c){a-=2*c}return a}
;K.prototype.getBitmapCoordinate=function(a,b,c,d){if(!d){d=new p(0,0)}var e=b-ja.x;e-=Math.floor((e+180)/360)*360;var f=ja.y-a;d.x=Math.floor(e*this.pixelsPerDegree[c].x);d.y=Math.floor(f*this.pixelsPerDegree[c].y);return d}
;K.prototype.getLatLng=function(a,b,c,d){if(!d){d=new p(0,0)}d.x=a/this.pixelsPerDegree[c].x+ja.x;d.y=ja.y-b/this.pixelsPerDegree[c].y;while(d.x<-180)d.x+=360;while(d.x>180)d.x-=360;return d}
;K.prototype.getTileURL=function(a,b,c){var d=this.earthBounds[c];if(b<d.minY||b>=d.maxY){return this.emptyTileUrl}var e=Math.pow(2,18-c-1);if(b<0||e-1<b){return this.emptyTileUrl}if(a<0||e-1<a){a=a%e;if(a<0)a+=e}var f="t";for(var g=16;g>=c;g--){e=e/2;if(b<e){if(a<e){f+="q"}else{f+="r";a-=e}}else{if(a<e){f+="t";b-=e}else{f+="s";a-=e;b-=e}}}return this.baseUrl+"t="+f}
;K.prototype.getTileCoordinate=function(a,b,c){var d=this.getBitmapCoordinate(a,b,c);d.x=Math.floor(d.x/this.tileSize);d.y=Math.floor(d.y/this.tileSize);return d}
;K.prototype.getLowestZoomLevel=function(a,b,c){var d=c.width+4;var e=c.height+4;for(var f=0;f<this.numZoomLevels;f++){if(this.pixelsPerDegree[f].x*b.width<d&&this.pixelsPerDegree[f].y*b.height<e){return f}}return this.numZoomLevels-1}
;K.prototype.getPixelsPerDegree=function(a){return this.pixelsPerDegree[a]}
;K.prototype.getLinkText=function(){return _mKeyholeMap}
;K.prototype.getURLArg=function(){return"k"}
;K.prototype.getCopyright=function(a){if(!this.copyrights){this.copyrights=S.fromCompact(this,Cb)}if(a.isLoaded()){var b=this.copyrights.getCopyrights(a.getBoundsLatLng(),a.zoomLevel);if(b.length==0){return""}else{return _mKeyholeCopy+b.join(", ")}}else{return""}}
;K.prototype.getCopyrightColor=function(){return"silver"}
;K.prototype.getTermsLinkColor=function(){return"silver"}
;K.prototype.zoomBitmapCoord=function(a,b,c){var d=new p();var e=Math.pow(2,b-a);d.x=Math.round(c.x*e);d.y=Math.round(c.y*e);return d}

// Copyright 2005 Google
function jc(a){if(window.clipboardData){k.addBuiltInListener(a,"paste",mc);k.addBuiltInListener(a,"drop",lc)}else{k.addBuiltInListener(a,"focus",oc);k.addBuiltInListener(a,"blur",nc)}return true}
function mc(a){var b=document.selection;if(b){var c=b.createRange();if(c){var d=window.clipboardData.getData("Text");if(d){c.text=Ea(d,null);return false}}}return true}
var na=null;function lc(a){if(!a)a=window.event;if(a.dataTransfer){na=Ea(a.dataTransfer.getData("Text"),null);setTimeout("_finishDrop()",1)}return true}
function _finishDrop(){if(!na)return;var a=document.selection;if(a){var b=a.createRange();if(b){b.text=na;b.select()}}na=null}
function oc(){var a=this;var b=function(){if(a.value!=a.oldvalue){if(Math.abs(a.value.length-a.oldvalue.length)!=1){a.value=Ea(a.value)}a.oldvalue=a.value}}
;a.oldvalue=a.value;a.interval=setInterval(b,50)}
function nc(){var a=this;if(a.interval){clearInterval(a.interval);a.interval=null}}
function Ea(a,b){var c=b||", ";var d=a.replace(/^[ \r\n\t\v]+/g,"");d=d.replace(/[ \r\n\t\v]+$/g,"");d=d.replace(/[ \t\v]*\r?\n[\r\n]*[ \t\v]*/g,c);return d}

// Copyright 2005 Google
function u(){}
u.write=function(a,b){}
;u.writeRaw=function(a){}
;u.writeXML=function(a){}
;u.writeURL=function(a){}
;u.dump=function(a){}
;u.incompatible=function(){}
;u.clear=function(){}
;function F(){}
F.start=function(){}
;F.end=function(){}
;F.addTime=function(a){}
;function pa(){}
pa.monitor=function(a,b,c,d){}
;pa.dump=function(){}
;pa.reset=function(){}
;pa.clear=function(){}
;var hc=false
// Copyright 2005 Google
var Ha="mapselectedlocation";function x(a,b,c,d,e,f,g){this.map=null;this.mapContainer=a;this.panel=b;this.metaPanel=c;this.debugPanel=document.createElement("div");this.debugPanel.style.display="none";this.debugPanel.style.fontSize="small";document.body.appendChild(this.debugPanel);this.suggestionPanel=document.createElement("div");this.suggestionPanel.style.display="none";this.metaPanel.appendChild(this.suggestionPanel);this.permalink=d;this.specToggleArea=e;this.printHeadArea=f;this.printSetup();this.mapTypes=g;this.mapTypesByArg={};for(var h=0;h<this.mapTypes.length;++h){var i=this.mapTypes[h].getURLArg();if(i){this.mapTypesByArg[i]=this.mapTypes[h]}}this.inputElements=[];k.bindDom(window,"resize",this,this.resizeMapView);if(v.type==4){document.body.style.overflow="hidden";this.panel.style.overflow="auto"}this.resizeMapView()}
x.prototype.printSetup=function(){if(v.type==1){k.bindDom(window,"beforeprint",this,this.beforePrint);k.bindDom(window,"afterprint",this,this.afterPrint);this.printMessage=null;this.printImageContainer=null}else{var a=document.createElement("div");a.id="printmessage";a.className="noscreen";a.innerHTML=_mUsePrintLink;document.body.appendChild(a);this.printMessage=a;var b=document.createElement("div");b.className="noscreen";this.mapContainer.parentNode.insertBefore(b,this.mapContainer);this.printImageContainer=b}}
;x.prototype.printWaitStart=function(){C(window.document.body,"wait")}
;x.prototype.printWaitEnd=function(){C(window.document.body,"")}
;x.prototype.printPrepare=function(){this.printMessage.style.visibility="hidden";bb(this.mapContainer,"noprint");this.printMessageNeedsReset=true}
;x.prototype.printError=function(){this.printMessage.style.visibility="hidden";this.printMessageNeedsReset=true}
;x.prototype.printReset=function(){if(this.printing){return}if(this.printImage){this.printImage.parentNode.removeChild(this.printImage);this.printImage=null}if(this.printMessage&&this.printMessageNeedsReset){this.printMessage.style.visibility="visible";this.printMessage.innerHTML=_mUsePrintLink;this.printMessageNeedsReset=false}if(this.mapContainer.className.indexOf("noprint")!=-1){db(this.mapContainer,"noprint")}}
;x.prototype.beforePrint=function(){var a=this.mapContainer.offsetWidth/window.screen.logicalXDPI;var b=7;var c=this.mapContainer.offsetHeight/window.screen.logicalYDPI;var d=8;if(this.vpage){d=7;if(this.vpage.directions){d=3.5}else if(this.vpage.overlays.length>0&&this.vpage.overlays[0].locations.length>1){d=4.5}}var e=b/a;if(c*e>d){e=d/c}var f=a*e;if(f<b){var g=Math.floor(f/b*100);this.mapContainer.style.width=g+"%"}else{this.mapContainer.style.width="100%"}this.mapContainer.style.zoom=e;this.panel.style.zoom=0.8}
;x.prototype.afterPrint=function(){this.mapContainer.style.zoom=1;this.mapContainer.style.width="auto";this.panel.style.zoom=1;this.resizeMapView()}
;x.prototype.loadMap=function(){this.map=new j(this.mapContainer,this.mapTypes,null,null,false,false,false,true);this.map.registerKeyHandlers(window.document);this.map.showMapControl();this.map.mapBlowupZoomLevel=1;k.bind(this.map,"moveend",this,this.updateSoftState);if(this.mapTypes.length>1){this.map.createSpecToggleLinks(this.specToggleArea)}k.bind(this.map,"click",this,this.onMapClick);k.bind(this.map,"infowindowopen",this,this.onInfoWindowOpen);k.bind(this.map,"infowindowclose",this,this.onInfoWindowClose);k.bind(this.map,"clearoverlays",this,this.onClearOverlays);k.bind(this.map,"mousedown",this,this.onMapMouseDown)}
;x.prototype.manageFocus=function(a){this.inputElements.push(a)}
;x.prototype.onMapMouseDown=function(){for(var a=0;a<this.inputElements.length;++a){this.inputElements[a].blur()}}
;x.prototype.updateSoftState=function(){if(this.vpageDoc){this.vpageDoc.getElementById("state").value=this.getStateText()}this.permalink.href=this.getPageURL();this.printReset()}

;x.prototype.resizeMapView=function(){
	mapControlPointerHack = this;
	var a=this.getWindowSize();
	var b=ua(this.mapContainer);
	var c=a.height-b.y-10;
	var d=ua(this.panel);
	var e=c-(d.y-b.y);
	this.mapContainer.style.height=n(c);
	if(document.body.style.overflow=="hidden"){
		this.panel.style.height=n(e);
		this.panel.scrollTop=0
	}
	if(this.map){
		this.map.onResize()
	}

	try {
		fnPlaceCrossHairs();
	} catch(er) {
	}

}


;x.prototype.getWindowSize=function(a){if(!a)a=new G(0,0);if(window.self&&self.innerWidth){a.width=self.innerWidth;a.height=self.innerHeight;return a}if(document.documentElement&&document.documentElement.clientHeight){a.width=document.documentElement.clientWidth;a.height=document.documentElement.clientHeight;return a}a.width=document.body.clientWidth;a.height=document.body.clientHeight;return a}
;x.prototype.getStateFromUrl=function(a){return a.replace(/^.*\?/,"")}
;x.prototype.parseState=function(a,b){if(typeof b=="undefined"||b==null){var c={}}else{var c=b}try{var d=new Array();d=a.split("&");var e={};for(var f=0;f<d.length;++f){var g=d[f].split("=");if(g.length==2){e[decodeURIComponent(g[0])]=decodeURIComponent(g[1])}}if(e["ll"]){var h=e["ll"].split(",");if(h.length==2){var i=parseFloat(h[0]);var l=parseFloat(h[1]);if(!isNaN(i)&&!isNaN(l)){c.center=new p(l,i)}}}if(e["spn"]){var m=e["spn"].split(",");if(m.length==2){var o=parseFloat(m[0]);var r=parseFloat(m[1]);if(!isNaN(o)&&!isNaN(r)){c.span=new G(r,o)}}}if(e["z"]){c.zoom=parseInt(e["z"])}if(e["t"]){c.spec=this.mapTypesByArg[e["t"]]}return c}catch(w){u.dump(w);return c}}
;x.prototype.getStateText=function(){var a=[];var b=new B();a.push("ll="+b.getLatLngArg(this.map.getCenterLatLng()));a.push("z="+this.map.zoomLevel);a.push("t="+(this.map.spec.getURLArg()||"0"));return a.join("&")}
;x.prototype.loadXML=function(a,b,c){O.invalidateAll();this.clearSearchState();try{this.vpageDoc=b;var d=Fa(a);var e=c?this.parseState(this.getStateFromUrl(c.href)):{};this.loadVPage(d,e)}catch(f){u.dump(f)}if(v.type==1){window.document.currentvpage=a};}
;x.prototype.loadVPage=function(a,b){var c=oa.loadFromXML(a,null,null);this.vpage=c;this.vpagedom=Ga(aa(a,"page"));if(c.title){window.document.title=_mSiteName+" - "+c.title}else{window.document.title=_mSiteName}if(c.error||(c.spelling||c.refinements)){var d=B.getFileURL("mp");this.suggestionPanel.style.display="";H.asynchronousTransform(c.xml,this.suggestionPanel,d,null,"suggestionPanel")}if(c.overlays&&c.overlays.length>0){var e=c.overlays[0];if(e.panelStyle&&e.locations){this.showOverlayPanel(e)}}else if(c.directions){this.showDirectionsPanel(c.directions)}if(c.debug){u.writeRaw(c.debug);this.debugPanel.style.display="";this.debugPanel.innerHTML=c.debug}else{this.debugPanel.style.display="none";this.debugPanel.innerHTML=""}if(b==null){b={}}if(this.vpageDoc){this.parseState(this.vpageDoc.getElementById("state").value,b)}this.vpageSpan=typeof b.zoom!="undefined"||b.span?null:c.viewSpan;this.lastSearchSpan=null;this.updateSoftState();this.setPrintHeader();this.loadMapWithState(c,b);this.map.saveMapState()}
;x.prototype.loadMapWithState=function(a,b){this.map.clearOverlays();var c=b.center||(a.center||this.map.getCenterLatLng());var d=b.zoom;if(d==null){var e=b.span||a.viewSpan;if(e){var f=b.spec||this.map.spec;d=f.getLowestZoomLevel(c,e,this.map.viewSize)}else if(typeof this.map.zoomLevel!="undefined"){d=this.map.zoomLevel}else{d=4}}if(b.spec){this.map.switchSpecification(b.spec,c,d)}if(c){if(!this.map.isLoaded()||d!=this.map.zoomLevel){this.map.centerAndZoom(c,d)}else{this.map.recenterOrPanToLatLng(c)}}for(var g=0;g<a.overlays.length;g++){for(var h=0;h<a.overlays[g].locations.length;h++){this.map.addLocation(a.overlays[g].locations[h])}}this.map.directions=a.directions;this.map.drawDirections(this.map.directions,this.map.directionsDiv);if(this.map.locations.length==1){var i=this.map.locations[0];this.clearInfoWindowArgs(i);this.showInfoWindowFromXML(i)}}
;x.prototype.showOverlayPanel=function(a){var b=this;window.showLocationInfo=function(c){var d=a.getLocationById(c);fnTurnCrossHairsOff();if(d){b.clearInfoWindowArgs(d);b.showInfoWindowFromXML(d)}}
;H.asynchronousTransform(a.xml,this.panel,a.panelStyle,null,"panel")}
;x.prototype.clearInfoWindowArgs=function(a){a.xml.setAttribute("arg0","");a.xml.setAttribute("arg1","");a.xml.setAttribute("arg2","")}
;x.prototype.infoWindowNavigate=function(a,b,c,d){if(!this.map.infoWindow.location){return}if(b){this.map.infoWindow.location.xml.setAttribute("arg0",b)}if(c){this.map.infoWindow.location.xml.setAttribute("arg1",c)}if(d){this.map.infoWindow.location.xml.setAttribute("arg2",d)}if(a){var e=null;var f=O.create("iwloadhandler");var g=function(){if(f.isValid()){a()}k.removeListener(e)}
;e=k.addListener(this.map,"infowindowopen",g)}this.showInfoWindowFromXML(this.map.infoWindow.location)}
;x.prototype.showDirectionsPanel=function(a){var b=this;b.highlightedTd=null;window.showDirectionsSegment=function(d){var e=a.getSegmentById(d);if(e){b.map.showDirectionsStep(e,d)}}
;window.showDirectionsStart=function(){b.map.showDirectionsStart()}
;window.showDirectionsEnd=function(){b.map.showDirectionsEnd()}
;var c=B.getFileURL("dp");H.asynchronousTransform(a.xml,this.panel,c,null,"panel")}
;x.prototype.onInfoWindowOpen=function(a){if(a.id){var b=Ya("panel_"+a.id);if(b){bb(b,Ha)}}}
;x.prototype.onInfoWindowClose=function(a){if(a.id){var b=Ya("panel_"+a.id);if(b){db(b,Ha)}}}
;x.prototype.onClearOverlays=function(a){this.map.mapBlowupZoomLevel=1;this.map.mapBlowupSpec=null}
;x.prototype.onMapClick=function(a){if(a&&(a.xml&&a.infoStyle)){this.clearInfoWindowArgs(a);this.showInfoWindowFromXML(a)}}
;x.prototype.showInfoWindowFromXML=function(a){var b=document.createElement("div");var c=this;var d=function(){c.map.showInfoWindow(a,b)}
;H.asynchronousTransform(a.xml,b,a.infoStyle,d,null)}
;x.prototype.prepareSearchForm=function(a,b){O.invalidateAll();this.panel.innerHTML=_mSearching;var c=new B();this.setFormField(a,"sll",c.getLatLngArg(this.map.getCenterLatLng()));this.setFormField(a,"sspn",c.getSpanArg(this.map.getSpanLatLng()));this.setFormField(a,"z",this.map.zoomLevel);this.setFormField(a,"t",this.map.spec.getURLArg());this.setFormField(a,"f",b);this.setFormField(a,"output","js");if(window._sf){var d=window._sf.split(/&/);for(var e=0;e<d.length;++e){var f=d[e].split(/=/);this.setFormField(a,f[0],decodeURIComponent(f[1]))}}this.clearSearchState()}
;x.prototype.setFormField=function(a,b,c){for(var d=0;d<a.elements.length;++d){if(a.elements[d].name==b){a.elements[d].value=c;return}}var e=document.createElement("input");e.type="hidden";e.name=b;e.value=c;a.appendChild(e)}
;x.prototype.clearSearchState=function(){this.map.clearOverlays();this.suggestionPanel.style.display="none";this.suggestionPanel.innerHTML="";this.debugPanel.style.display="none";this.debugPanel.innerHTML="";this.panel.innerHTML="";this.vpage=null;this.vpageDoc=null;this.updateSoftState()}
;x.prototype.getPageURL=function(a){if(this.vpageSpan&&!this.lastSearchSpan){this.vpageSpan=null;this.lastSearchSpan=this.map.getSpanLatLng()}var b=new B();if(this.vpage&&this.vpageDoc){var c=this.vpage.query;var d=aa(this.vpage.xml,"request");var e=aa(d,"query");var f=aa(d,"near");var g=aa(d,"sourceAddress");var h=aa(d,"destinationAddress");if(g&&h){b.setQueryValue("saddr",va(g));b.setQueryValue("daddr",va(h))}else if(e&&f){b.setQueryValue("q",va(e));b.setQueryValue("near",va(f))}else{b.setQueryValue("q",c)}var i=this.map.getCenterLatLng();var l=this.vpage.center;if(this.vpage.searchCenter){b.setValue("sll",b.getLatLngArg(this.vpage.searchCenter))}var m=false;if(!i.approxEquals(l)){m=true;b.setValue("ll",b.getLatLngArg(i))}var o=this.map.getSpanLatLng();var r=this.lastSearchSpan;if(this.vpage.searchSpan){b.setValue("sspn",b.getSpanArg(this.vpage.searchSpan))}if(m||(!r||!o.approxEquals(r))){b.setValue("spn",b.getSpanArg(o))}}else{b.setAllMapValues(this.map)}b.setValue("t",this.map.spec.getURLArg());return b.getURL(a)}
;x.prototype.email=function(){var a="mailto:?subject="+encodeURIComponent(_mEmailSubject)+"&body="+encodeURIComponent(this.getPageURL(true));window.location.href=a}
;x.prototype.print=function(){if(!this.printMessage||this.printImage){window.print()}else if(!this.printing){this.printing=true;var a=B.getPrintImageUrl(this);var b=document.createElement("img");b.className="noscreen printimage";var c=this;b.onload=function(){u.write("PRINT load");c.printWaitEnd();c.printPrepare();window.print();c.printing=false}
;b.onerror=function(){u.write("PRINT error");c.printWaitEnd();c.printError();window.print();c.printing=false}
;b.src=a;this.printWaitStart();this.printImageContainer.appendChild(b);this.printImage=b}}
;x.prototype.setPrintHeader=function(){var a="";var b=this.vpagedom;if(b&&b.request.sourceAddress){a+=this.printTitle(_mDirections);a+=this.printSubTitle(_mStartAddress,b.request.sourceAddress);a+=this.printSubTitle(_mEndAddress,b.request.destinationAddress)}else if(b&&b.request.near){a+=this.printTitle(_mLocalSearch);a+=this.printSubTitle(_mWhat,b.request.query);a+=this.printSubTitle(_mWhere,b.request.near)}else if(b&&b.request.query){a+=this.printTitle(_mSiteName);a+=this.printSubTitle(null,b.request.query)}this.printHeadArea.innerHTML=a}
;x.prototype.printTitle=function(a){return'<div class="title">'+$(a)+"</div>"}
;x.prototype.printSubTitle=function(a,b){var c='<div class="subtitle">';if(a){c+='<span class="label">'+$(a)+"</span>&nbsp;&nbsp;"}if(b){c+='<span class="value">'+$(b)+"</span>"}c+="</div>";return c}
;x.prototype.reportStats=function(a){var b=[];for(var c in a){b.push(c+":"+a[c])}var d=this.getPageURL();d+="&stat_m="+b.join(",");u.writeURL(d);if(!this.statsSender){this.statsSender=document.createElement("img");this.statsSender.style.position="absolute";this.statsSender.style.visibility="hidden";this.statsSender.style.top=n(-10);this.statsSender.style.left=n(-10);this.statsSender.style.width=n(1);this.statsSender.style.height=n(1);document.body.appendChild(this.statsSender)}this.statsSender.src=d}

// Copyright 2005 Google
function cb(a){return null}

// Copyright 2005 Google

// Copyright 2005 Google
var _MapsApplication=x;var _Map=j;var _Point=p;var _IconClass=D;var _GoogleMapSpec=L;var _GoogleMapMercSpec=M;var _KeyholeMapSpec=K;var _GOOGLE_MAP_SPEC=null;var _KEYHOLE_SPEC=null;var _DocumentTransport=wa;var _XmlHttp=ra;var _XMLHttp=ra;var _Event=k;var _Timer=F;var _Log=u;var _makePasteBox=jc

